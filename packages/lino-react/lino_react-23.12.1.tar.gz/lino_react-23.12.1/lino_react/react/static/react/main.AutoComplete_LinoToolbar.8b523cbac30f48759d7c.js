"use strict";(self.webpackChunklino_react=self.webpackChunklino_react||[]).push([[756,521],{5352:t=>{var e="%[a-f0-9]{2}",i=new RegExp("("+e+")|([^%]+?)","gi"),r=new RegExp("("+e+")+","gi");function s(t,e){try{return[decodeURIComponent(t.join(""))]}catch(t){}if(1===t.length)return t;e=e||1;var i=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],s(i),s(r))}function o(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(i)||[],r=1;r<e.length;r++)e=(t=s(e,r).join("")).match(i)||[];return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},i=r.exec(t);i;){try{e[i[0]]=decodeURIComponent(i[0])}catch(t){var s=o(i[0]);s!==i[0]&&(e[i[0]]=s)}i=r.exec(t)}e["%C2"]="�";for(var n=Object.keys(e),l=0;l<n.length;l++){var a=n[l];t=t.replace(new RegExp(a,"g"),e[a])}return t}(t)}}},4885:t=>{t.exports=function(t,e){for(var i={},r=Object.keys(t),s=Array.isArray(e),o=0;o<r.length;o++){var n=r[o],l=t[n];(s?-1!==e.indexOf(n):e(n,l,t))&&(i[n]=l)}return i}},9922:t=>{t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const i=t.indexOf(e);return-1===i?[t]:[t.slice(0,i),t.slice(i+e.length)]}},9206:t=>{t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},9158:function(t,e,i){var r=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var s=Object.getOwnPropertyDescriptor(e,i);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,s)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&r(e,t,i);return s(e,t),e},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.QuickFilter=e.AutoComplete=e.name=void 0,e.name="AutoComplete";const l=n(i(1914)),a=n(i(2972)),h=i(9281),u=i(1230),c=o(i(1300));let p;p={queryString:Promise.resolve().then((()=>o(i(5198)))),prAutoComplete:Promise.resolve().then((()=>o(i(9682))))};(0,h.RegisterImportPool)(p);class d extends u.LeafComponentInput{constructor(t){super(t),this.onKeyDown=t=>{if("ArrowDown"===t.key||"ArrowUp"===t.key){if(this.inputEl&&!this.inputEl.state.overlayVisible)this.state.rows.length||this.getChoices(this.state[c.URL_PARAM_FILTER]),this.inputEl.setState({overlayVisible:!0});else if(!this.state.lazyLoading){let t=this.scroller.content.querySelector("li.p-highlight");if(t){let{top:e,bottom:i}=this.scroller.element.getBoundingClientRect(),r=t.getBoundingClientRect();r.top<e?t.scrollIntoView(!0):r.bottom>i&&t.scrollIntoView(!1)}}t.stopPropagation()}},this.itemTemplate=t=>{let e="object"==typeof t?t.text:t;return l.default.createElement("div",{dangerouslySetInnerHTML:{__html:e||" "}})},this.getChoices=(t,e)=>{let i=(e=e||this.state[c.URL_PARAM_LIMIT])===this.state[c.URL_PARAM_LIMIT]?this.state[c.URL_PARAM_START]:this.state[c.URL_PARAM_LIMIT];this.props.urlParams.controller.actionHandler.silentFetch({path:this.choicesURL(t,i,e)}).then((i=>{let r=i.rows;this.state.rows.length&&(r=r.filter((t=>""!==t.text&&null!==t.value))),this.setState({[c.URL_PARAM_FILTER]:t,[c.URL_PARAM_LIMIT]:e,count:i.count,lazyLoading:!1,rows:this.state.rows.concat(r)})}))},this.state={...this.state,[c.URL_PARAM_FILTER]:"",[c.URL_PARAM_LIMIT]:15,[c.URL_PARAM_START]:0,lazyLoading:!1,rows:[],value:null},this.hasClearButton=!1,this.getChoices=this.getChoices.bind(this),this.getInput=this.getInput.bind(this),this.itemTemplate=this.itemTemplate.bind(this),this.onKeyDown=this.onKeyDown.bind(this)}onReady(){if(this.hasClearButton&&!this.clear)throw"clear NotImplemented";let t=this.getValue();this.setState({[c.URL_PARAM_FILTER]:t.text,[c.URL_PARAM_LIMIT]:this.props.urlParams[c.URL_PARAM_LIMIT],value:t})}getInput(t={}){return null===this.state.value?null:l.default.createElement(l.default.Fragment,null,l.default.createElement(this.ex.prAutoComplete.AutoComplete,{completeMethod:t=>this.getChoices(t.query,this.state[c.URL_PARAM_LIMIT]),dropdown:!0,field:"text",itemTemplate:this.itemTemplate,onChange:t=>this.setState({value:Object.assign(this.state.value,{text:t.value,value:null}),rows:[],[c.URL_PARAM_LIMIT]:this.props.urlParams[c.URL_PARAM_LIMIT]}),onSelect:this.onSelect,onShowLoader:()=>{this.clearButton&&(this.clearButton.style.visibility="hidden")},ref:this.onInputRef,scrollHeight:"200px",suggestions:this.state.rows,tabIndex:this.props.tabIndex,value:this.state.value.text,virtualScrollerOptions:{itemSize:this.props.urlParams[c.URL_PARAM_LIMIT],lazy:this.state.count>this.state[c.URL_PARAM_LIMIT],loading:this.state.lazyLoading,onScrollIndexChange:t=>{let e=this.state[c.URL_PARAM_LIMIT];e-t.first<15&&!this.state.lazyLoading&&this.state.count>e&&(this.setState({lazyLoading:!0}),this.getChoices(this.state[c.URL_PARAM_FILTER],e+15))},ref:t=>this.scroller=t,scrollHeight:"195px",style:{minWidth:"30ch"}},...t}),this.hasClearButton&&this.props.elem.field_options.allowBlank&&this.state.value.text&&l.default.createElement("i",{key:this.state.touch,ref:t=>this.clearButton=t,className:"pi pi-times l-fk-clear",onClick:this.clear,style:{visibility:"visible",cursor:"pointer"}}))}}e.AutoComplete=d,d.requiredModules=["prAutoComplete"].concat(u.LeafComponentInput.requiredModules),d.iPool=Object.assign(p,u.LeafComponentInput.iPool.copy());class g extends d{constructor(t){super(t),this.wrapperClasses=["l-grid-quickfilter"],this.styleClasses=[],this.choicesURL=this.choicesURL.bind(this),this.getInput=this.getInput.bind(this),this.getValue=this.getValue.bind(this),this.onSelect=this.onSelect.bind(this)}getInput(){return super.getInput({placeholder:"QuickSearch",style:{width:this.props.wide?"100%":void 0,marginRight:this.props.wide?"1ch":void 0,marginLeft:this.props.wide?"1ch":void 0}})}getValue(){return{text:this.props.urlParams[c.URL_PARAM_FILTER],value:null}}choicesURL(t,e,i){return`choices/${this.props.urlParams.packId}/${this.props.urlParams.actorId}?${this.ex.queryString.stringify(Object.assign(this.props.urlParams.controller.actionHandler.defaultStaticParams(),{[c.URL_PARAM_FILTER]:t,[c.URL_PARAM_START]:e,[c.URL_PARAM_LIMIT]:i}))}`}onSelect(t){let e=t.value.value,i=this.props.urlParams.controller;i.history.pushPath({pathname:`/api/${this.props.urlParams.packId}/${this.props.urlParams.actorId}/${e}`,params:i.actionHandler.defaultStaticParams()})}render(){return this.state.ready?this.getInput():null}}e.QuickFilter=g,g.requiredModules=["queryString"].concat(d.requiredModules),g.propTypes={...d.propTypes,wide:a.default.bool},g.defaultProps={...d.defaultProps,editing_mode:!0,elem:{},tabIndex:0,wide:!1,[c.URL_PARAM_WINDOW_TYPE]:c.WINDOW_TYPE_UNKNOWN}},5223:(t,e,i)=>{i.d(e,{Z:()=>s});var r=i(9430);function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var s=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,r.Z)(t)););return t}(t,e);if(s){var o=Object.getOwnPropertyDescriptor(s,e);return o.get?o.get.call(arguments.length<3?t:i):o.value}},s.apply(this,arguments)}}}]);
//# sourceMappingURL=main.AutoComplete_LinoToolbar.8b523cbac30f48759d7c.js.map