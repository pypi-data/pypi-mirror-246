(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1009],{94629:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(82394),i=n(21831),o=n(82684),u=n(50724),c=n(82555),a=n(97618),l=n(70613),s=n(68487),d=n(68899),f=n(28598);function p(e,t){var n=e.children,r=e.noPadding;return(0,f.jsx)(d.HS,{noPadding:r,ref:t,children:n})}var b=o.forwardRef(p),h=n(62547),v=n(82571),O=n(35686),g=n(98464),j=n(46684),m=n(70515),y=n(53808),P=n(19183);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){var n,r=e.addProjectBreadcrumbToCustomBreadcrumbs,p=e.after,w=e.afterHeader,x=e.afterHidden,_=e.afterWidth,k=e.afterWidthOverride,C=e.appendBreadcrumbs,E=e.before,D=e.beforeWidth,M=e.breadcrumbs,S=e.children,I=e.errors,A=e.headerMenuItems,H=e.headerOffset,N=e.hideAfterCompletely,R=e.mainContainerHeader,T=e.navigationItems,B=e.setAfterHidden,W=e.setErrors,z=e.subheaderChildren,F=e.subheaderNoPadding,U=e.title,V=e.uuid,q=(0,P.i)().width,L="dashboard_after_width_".concat(V),Q="dashboard_before_width_".concat(V),K=(0,o.useRef)(null),G=(0,o.useState)(k?_:(0,y.U2)(L,_)),X=G[0],Y=G[1],J=(0,o.useState)(!1),$=J[0],ee=J[1],te=(0,o.useState)(E?Math.max((0,y.U2)(Q,D),13*m.iI):null),ne=te[0],re=te[1],ie=(0,o.useState)(!1),oe=ie[0],ue=ie[1],ce=(0,o.useState)(null)[1],ae=O.ZP.projects.list({},{revalidateOnFocus:!1}).data,le=null===ae||void 0===ae?void 0:ae.projects,se={label:function(){var e;return null===le||void 0===le||null===(e=le[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},de=[];M&&(r&&de.push(se),de.push.apply(de,(0,i.Z)(M))),(null===M||void 0===M||!M.length||C)&&(null===le||void 0===le?void 0:le.length)>=1&&(null!==M&&void 0!==M&&M.length||de.unshift({bold:!C,label:function(){return U}}),de.unshift(se)),(0,o.useEffect)((function(){null===K||void 0===K||!K.current||$||oe||null===ce||void 0===ce||ce(K.current.getBoundingClientRect().width)}),[$,X,oe,ne,K,ce,q]),(0,o.useEffect)((function(){$||(0,y.t8)(L,X)}),[x,$,X,L]),(0,o.useEffect)((function(){oe||(0,y.t8)(Q,ne)}),[oe,ne,Q]);var fe=(0,g.Z)(_);return(0,o.useEffect)((function(){k&&fe!==_&&Y(_)}),[k,_,fe]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.Z,{title:U}),(0,f.jsx)(s.Z,{breadcrumbs:de,menuItems:A,project:null===le||void 0===le?void 0:le[0],version:null===le||void 0===le||null===(n=le[0])||void 0===n?void 0:n.version}),(0,f.jsxs)(d.Nk,{ref:t,children:[0!==(null===T||void 0===T?void 0:T.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(v.Z,{navigationItems:T,showMore:!0})}),(0,f.jsx)(a.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(h.Z,{after:p,afterHeader:w,afterHeightOffset:j.Mz,afterHidden:x,afterMousedownActive:$,afterWidth:X,before:E,beforeHeightOffset:j.Mz,beforeMousedownActive:oe,beforeWidth:d.k1+(E?ne:0),headerOffset:H,hideAfterCompletely:!B||N,leftOffset:E?d.k1:null,mainContainerHeader:R,mainContainerRef:K,setAfterHidden:B,setAfterMousedownActive:ee,setAfterWidth:Y,setBeforeMousedownActive:ue,setBeforeWidth:re,children:[z&&(0,f.jsx)(b,{noPadding:F,children:z}),S]})})]}),I&&(0,f.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===W||void 0===W?void 0:W(null)},children:(0,f.jsx)(c.Z,Z(Z({},I),{},{onClose:function(){return null===W||void 0===W?void 0:W(null)}}))})]})}var _=o.forwardRef(x)},79757:function(e,t,n){"use strict";var r=n(82394),i=n(26304),o=(n(82684),n(38626)),u=n(44897),c=n(42631),a=n(95363),l=n(70515),s=n(61896),d=n(28598),f=["children"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=o.default.p.withConfig({displayName:"Badge__BadgeStyle",componentId:"sc-tfqsp0-0"})(["border-radius:","px;display:inline;font-family:",";margin:0;white-space:nowrap;",";"," "," ",";",";"," "," "," "," "," "," "," ",""],c.BG,a.ry,s.iD,(function(e){return e.small&&"\n    ".concat(s.HC,";\n  ")}),(function(e){return e.xxsmall&&"\n    font-size: ".concat(s.VK,"px;\n    line-height: ").concat(s.VK,"px;\n  ")}),(function(e){return!e.regular&&"\n    padding: 2px 4px;\n  "}),(function(e){return e.regular&&"\n    padding: ".concat(1*l.iI,"px ").concat(1.25*l.iI,"px;\n  ")}),(function(e){return e.noVerticalPadding&&"\n    padding-bottom: 0;\n    padding-top: 0;\n  "}),(function(e){return!e.disabled&&!e.inverted&&"\n    background-color: ".concat((e.theme||u.Z).background.row,";\n    color: ").concat((e.theme||u.Z).content.default,";\n  ")}),(function(e){return!e.disabled&&e.inverted&&"\n    background-color: ".concat((e.theme||u.Z).background.dark,";\n    color: ").concat((e.theme||u.Z).content.inverted,";\n  ")}),(function(e){return e.cyan&&"\n    background-color: ".concat((e.theme||u.Z).accent.cyan,";\n    color: ").concat((e.theme||u.Z).monotone.black,";\n  ")}),(function(e){return e.disabled&&"\n    background-color: ".concat((e.theme||u.Z).feature.disabled,";\n    color: ").concat((e.theme||u.Z).content.disabled,";\n  ")}),(function(e){return e.color&&"\n    background-color: ".concat(e.color," !important;\n    color: ").concat((e.theme||u.Z).content.active,";\n  ")}),(function(e){return e.quantifier&&"\n    border-radius: 34px;\n    line-height: 10px;\n    padding: 4px 6px;\n  "}),(function(e){return e.monospace&&"\n    font-family: ".concat(a.Vp,";\n    word-break: break-all;\n  ")}));t.Z=function(e){var t=e.children,n=(0,i.Z)(e,f);return(0,d.jsx)(h,b(b({},n),{},{children:t}))}},46732:function(e,t,n){"use strict";var r=n(82394),i=n(26304),o=(n(82684),n(50724)),u=n(70374),c=n(28598),a=["children","items","open","onClickCallback","onClickOutside","parentRef","uuid","zIndex"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.children,n=e.items,r=e.open,l=e.onClickCallback,d=e.onClickOutside,f=e.parentRef,p=e.uuid,b=e.zIndex,h=(0,i.Z)(e,a),v=(0,c.jsxs)("div",{style:{position:"relative",zIndex:(d?3:2)+(b||0)},children:[(0,c.jsx)("div",{ref:f,children:t}),(0,c.jsx)(u.Z,s(s({},h),{},{items:n,onClickCallback:l,open:r,parentRef:f,uuid:p}))]});return d?(0,c.jsx)(o.Z,{onClickOutside:d,open:!0,children:v}):v}},78234:function(e,t,n){"use strict";n.r(t);var r=n(77837),i=n(82394),o=n(38860),u=n.n(o),c=n(82684),a=n(34376),l=n(94629),s=n(55072),d=n(53943),f=n(93808),p=n(82359),b=n(38276),h=n(4190),v=n(85544),O=n(35686),g=n(44265),j=n(70515),m=n(69419),y=n(86735),P=n(70320),w=n(28598);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(){var e=(0,a.useRouter)(),t=(0,c.useState)(null),n=t[0],r=t[1],o=(0,m.iV)(),u=null!==o&&void 0!==o&&o.page?o.page:0,f=(0,m.DQ)(o,[g.P0.PIPELINE_UUID,g.P0.STATUS,g.P0.TAG]),Z=O.ZP.projects.list().data,_=(0,c.useMemo)((function(){var e;return null===Z||void 0===Z||null===(e=Z.projects)||void 0===e?void 0:e[0]}),[Z]),k=((0,c.useMemo)((function(){var e;return(0,P.hY)(null===_||void 0===_||null===(e=_.features)||void 0===e?void 0:e[p.d.LOCAL_TIMEZONE])}),[null===_||void 0===_?void 0:_.features]),x(x({},f),{},{_limit:s.Q,_offset:u*s.Q,disable_retries_grouping:!0,include_pipeline_tags:!0,include_pipeline_uuids:!0}));null!==o&&void 0!==o&&o.status&&(k.status=o.status);var C=O.ZP.pipeline_runs.list(k,{refreshInterval:3e3,revalidateOnFocus:!0}),E=C.data,D=C.mutate,M=O.ZP.tags.list().data,S=(0,c.useMemo)((function(){return(0,y.YC)((null===M||void 0===M?void 0:M.tags)||[],(function(e){return e.uuid}))}),[M]),I=(0,c.useMemo)((function(){return(null===E||void 0===E?void 0:E.pipeline_runs)||[]}),[E]),A=(0,c.useMemo)((function(){var e;return(null===E||void 0===E||null===(e=E.metadata)||void 0===e?void 0:e.count)||[]}),[E]),H=(0,c.useMemo)((function(){var e;return(null===E||void 0===E||null===(e=E.metadata)||void 0===e?void 0:e.pipeline_uuids)||[]}),[E]),N=(0,c.useMemo)((function(){return(0,w.jsx)(v.Z,{filterOptions:{pipeline_uuid:H,pipeline_tag:S.map((function(e){return e.uuid})),status:g.IK},filterValueLabelMapping:{pipeline_tag:S.reduce((function(e,t){var n=t.uuid;return x(x({},e),{},(0,i.Z)({},n,n))}),{}),status:g.Do},onClickFilterDefaults:function(){e.push("/pipeline-runs")},query:f,resetPageOnFilterApply:!0})}),[H,f,e,S]);return(0,w.jsx)(l.Z,{errors:n,setErrors:r,subheaderChildren:N,title:"Pipeline runs",uuid:"pipeline_runs/index",children:E?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(d.Z,{fetchPipelineRuns:D,includePipelineTags:!0,pipelineRuns:I,setErrors:r}),(0,w.jsx)(b.Z,{p:2,children:(0,w.jsx)(s.ZP,{maxPages:s.Et,onUpdate:function(t){var n=Number(t),r=x(x({},o),{},{page:n>=0?n:0});e.push("/pipeline-runs","/pipeline-runs?".concat((0,m.uM)(r)))},page:Number(u),totalPages:Math.ceil(A/s.Q)})})]}):(0,w.jsx)(b.Z,{p:j.Mq,children:(0,w.jsx)(h.Z,{inverted:!0,large:!0})})})}_.getInitialProps=(0,r.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),t.default=(0,f.Z)(_)},60710:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipeline-runs",function(){return n(78234)}])},80022:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15544:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},13692:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(61049);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},93189:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(12539),i=n(80022);function o(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},61049:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[2678,1154,844,4267,6990,8487,8264,7858,5499,3943,2474,9774,2888,179],(function(){return t=60710,e(e.s=t);var t}));var t=e.O();_N_E=t}]);