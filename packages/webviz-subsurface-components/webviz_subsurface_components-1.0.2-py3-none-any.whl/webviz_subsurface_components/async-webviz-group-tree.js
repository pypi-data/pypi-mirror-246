"use strict";(self.webpackChunkwebviz_subsurface_components=self.webpackChunkwebviz_subsurface_components||[]).push([[548],{38041:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(94015),r=a.n(n),i=a(23645),o=a.n(i)()(r());o.push([e.id,"/*\nThis css is to override default slider css styling for the date time slider\n*/\n\n.slider,\n.slider-inset,\n.slider-overlay {\n    stroke-linecap: round;\n}\n\n.slider {\n    stroke-width: 8px;\n}\n\n.slider-inset {\n    stroke: #b20276;\n    stroke-width: 8px;\n}\n\n.slider-overlay {\n    pointer-events: stroke;\n    cursor: pointer;\n}\n\n.handle {\n    fill: #fff;\n    stroke: #b20276;\n    stroke-opacity: 0.5;\n    stroke-width: 1.25px;\n}\n","",{version:3,sources:["webpack://./src/components/GroupTree/components/Settings/date_time_slider.css"],names:[],mappings:"AAAA;;CAEC;;AAED;;;IAGI,qBAAqB;AACzB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,eAAe;IACf,iBAAiB;AACrB;;AAEA;IACI,sBAAsB;IACtB,eAAe;AACnB;;AAEA;IACI,UAAU;IACV,eAAe;IACf,mBAAmB;IACnB,oBAAoB;AACxB",sourcesContent:["/*\nThis css is to override default slider css styling for the date time slider\n*/\n\n.slider,\n.slider-inset,\n.slider-overlay {\n    stroke-linecap: round;\n}\n\n.slider {\n    stroke-width: 8px;\n}\n\n.slider-inset {\n    stroke: #b20276;\n    stroke-width: 8px;\n}\n\n.slider-overlay {\n    pointer-events: stroke;\n    cursor: pointer;\n}\n\n.handle {\n    fill: #fff;\n    stroke: #b20276;\n    stroke-opacity: 0.5;\n    stroke-width: 1.25px;\n}\n"],sourceRoot:""}]);const d=o},25797:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ne});var n=a(21550),r=a.n(n),i=a(95998),o=a(97168),d=a(14890);const s=(0,o.oM)({name:"id",initialState:"",reducers:{updateId:(e,t)=>t.payload}}),l=(0,o.oM)({name:"ui",initialState:{currentDateTime:"",currentFlowRate:"",currentNodeInfo:""},reducers:{updateCurrentDateTime:(e,t)=>{e.currentDateTime=t.payload},updateCurrentFlowRate:(e,t)=>{e.currentFlowRate=t.payload},updateCurrentNodeInfo:(e,t)=>{e.currentNodeInfo=t.payload}}}),c=(0,d.UY)({id:s.reducer,ui:l.reducer}),u=r().createContext([]),m=e=>{const t=(0,n.useMemo)((()=>{var t,a,n,r;const i=e.initialIndices.treeIndex,o=e.initialIndices.dateIndex,d=e.data.length>i&&e.data[i].dates.length>o?e.data[i].dates[o]:e.data[0].dates[0],s=null!==(a=null===(t=e.edgeMetadataList[0])||void 0===t?void 0:t.key)&&void 0!==a?a:"",l=null!==(r=null===(n=e.nodeMetadataList[0])||void 0===n?void 0:n.key)&&void 0!==r?r:"";return{id:e.id,ui:{currentDateTime:d,currentFlowRate:s,currentNodeInfo:l}}}),[e.id,e.data]),a=(0,n.useMemo)((()=>(e=>(0,o.xC)({reducer:c,preloadedState:e,enhancers:[]}))(t)),[t]);return r().createElement(u.Provider,{value:e.data},r().createElement(i.zt,{store:a},e.children))};var p=a(90948),A=a(89562),v=a(60195);const{updateId:f}=s.actions,{updateCurrentDateTime:C,updateCurrentFlowRate:g,updateCurrentNodeInfo:I}=l.actions;var h=a(93379),k=a.n(h),y=a(7795),x=a.n(y),B=a(3565),b=a.n(B),E=a(19216),w=a.n(E),M=a(44589),L=a.n(M),N=a(38041),T={};T.styleTagTransform=L(),T.setAttributes=b(),T.insert=function(e){var t=document.querySelector("head"),a=window._lastElementInsertedByStyleLoader;a?a.nextSibling?t.insertBefore(e,a.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),window._lastElementInsertedByStyleLoader=e},T.domAPI=x(),T.insertStyleElement=w(),k()(N.Z,T),N.Z&&N.Z.locals&&N.Z.locals;const D="DateTimeSlider-root",S=(0,p.ZP)("div")((({theme:e})=>({[`& .${D}`]:{width:"200px",marginRight:e.spacing(4)}}))),R=(0,p.ZP)(v.ZP)((()=>({root:{color:"#007079"},valueLabel:{top:22,"& *":{background:"transparent",color:"#000"}}}))),Z=r().memo((()=>{const e=(0,n.useContext)(u),t=(0,i.I0)(),a=(0,i.v9)((e=>e.ui.currentDateTime)),o=(0,n.useMemo)((()=>e.reduce(((e,t)=>e.concat(t.dates)),[])),[e]),d=(0,n.useMemo)((()=>o.indexOf(a)),[o,a]),s=(0,n.useCallback)((e=>o[e]),[o]),l=(0,n.useCallback)(((e,a)=>{"number"==typeof a&&t(C(o[a]))}),[t,o]);return r().createElement(S,{className:D},r().createElement("span",null,"Time Steps"),r().createElement(R,{track:!1,"aria-labelledby":"date-time-slider-label",value:d,valueLabelDisplay:"on",onChange:l,min:0,max:o.length-1,step:1,marks:!0,valueLabelFormat:s}))}));Z.displayName="DateTimeSlider";const F=Z;var $=a(3184);const P="FlowRateSelector-root",_=(0,p.ZP)($.p)((({theme:e})=>({[`&.${P}`]:{maxWidth:"250px",padding:e.spacing(1)}}))),G=r().memo((e=>{const t=(0,i.I0)(),a=(0,i.v9)((e=>e.ui.currentFlowRate)),o=(0,n.useCallback)((e=>{t(g(e.target.value))}),[t]);return r().createElement(_,{className:P,id:"flow-rate-selector",label:"Flow Rate",value:a,onChange:o},e.edgeMetadataList.map((e=>r().createElement("option",{key:`option-${e.key}`,value:e.key},e.label))))}));G.displayName="FlowRateSelector";const z=G,q="NodeInfoSelector-root",U=(0,p.ZP)($.p)((({theme:e})=>({[`&.${q}`]:{maxWidth:"250px",padding:e.spacing(1)}}))),V=r().memo((e=>{const t=(0,i.I0)(),a=(0,i.v9)((e=>e.ui.currentNodeInfo)),o=(0,n.useCallback)((e=>{t(I(e.target.value))}),[t]);return r().createElement(U,{className:q,id:"node-info-selector",label:"Node Data",value:a,onChange:o},e.nodeMetadataList.map((e=>r().createElement("option",{key:`option-${e.key}`,value:e.key},e.label))))}));V.displayName="NodeInfoSelector";const H=V,K="SettingsBar",O={topBar:`${K}-topBar`,actions:`${K}-actions`},W=(0,p.ZP)(A.D)((()=>({[`&.${O.topBar}`]:{minHeight:"90px"},[`& .${O.actions}`]:{position:"relative",display:"flex",flexDirection:"row"}}))),J=r().memo((e=>r().createElement(W,{className:O.topBar},r().createElement(A.D.Header,{className:O.actions},r().createElement(z,{edgeMetadataList:e.edgeMetadataList}),r().createElement(H,{nodeMetadataList:e.nodeMetadataList})),r().createElement(A.D.Actions,{className:O.actions},r().createElement(F,null)))));J.displayName="SettingsBar";const Y=J;var j=a(43147);const Q="GroupTreeViewer-root",X=(0,p.ZP)("div")((()=>({[`&.${Q}`]:{position:"relative",display:"flex",flex:1,flexDirection:"column",height:"90%"}}))),ee=e=>{const t=(0,n.useContext)(u),a=(0,i.v9)((e=>e.ui.currentDateTime)),o=(0,i.v9)((e=>e.ui.currentFlowRate)),d=(0,i.v9)((e=>e.ui.currentNodeInfo));return(0,n.useEffect)((()=>{void 0!==e.currentDateTimeChangedCallBack&&e.currentDateTimeChangedCallBack(a)}),[a]),r().createElement(X,{className:Q},r().createElement(Y,{edgeMetadataList:e.edgeMetadataList,nodeMetadataList:e.nodeMetadataList}),r().createElement(j.J,{id:e.id,datedTrees:t,edgeMetadataList:e.edgeMetadataList,nodeMetadataList:e.nodeMetadataList,selectedEdgeKey:o,selectedNodeKey:d,selectedDateTime:a}))};ee.displayName="GroupTreeViewer";const te=ee,ae=r().memo((e=>{const[t,a]=(0,n.useState)({treeIndex:0,dateIndex:0}),i=(0,n.useCallback)((t=>{const n=e.data.findIndex((e=>e.dates.includes(t))),r=e.data[n].dates.indexOf(t);a({treeIndex:n,dateIndex:r})}),[e.data]);return r().createElement(m,{id:e.id,data:e.data,edgeMetadataList:e.edgeMetadataList,nodeMetadataList:e.nodeMetadataList,initialIndices:t},r().createElement(te,{id:e.id,edgeMetadataList:e.edgeMetadataList,nodeMetadataList:e.nodeMetadataList,currentDateTimeChangedCallBack:i}))}));ae.displayName="GroupTreeComponent";const ne=ae}}]);
//# sourceMappingURL=async-webviz-group-tree.js.map