"use strict";(self.webpackChunkpromptmanager=self.webpackChunkpromptmanager||[]).push([[6348],{12705:function(e,t,n){n.d(t,{$5:function(){return S},C_:function(){return B},DK:function(){return T},Dg:function(){return W},Hn:function(){return g},K4:function(){return b},MC:function(){return R},NM:function(){return C},TC:function(){return U},TF:function(){return O},YL:function(){return Z},c5:function(){return E},e7:function(){return z},eH:function(){return y},gZ:function(){return m},jl:function(){return x},lo:function(){return N},nC:function(){return I},pQ:function(){return w},r1:function(){return h},rN:function(){return P},rc:function(){return j},v:function(){return v},w1:function(){return V},ye:function(){return F}});var r=n(4942),a=n(1413),i=n(74165),u=n(15861),c=n(75330),o=n(7077),s=(0,c.nZ)({key:"apiProvidersFetchSelector",get:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/apiproviders");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),p=(0,c.nZ)({key:"apiBackendsFetchSelector",get:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/apibackends");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),l=(0,c.nZ)({key:"endpointsFetchSelector",get:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/endpoints");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),d=(0,c.nZ)({key:"dataSourcesFetchSelector",get:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/datasources");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),f=(0,c.nZ)({key:"dataSourceTypesFetchSelector",get:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/datasource_types");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),h=(0,c.cn)({key:"apiProviders",default:s}),v=(0,c.nZ)({key:"apiProviderDropdownList",get:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.get,e.next=3,n(h);case 3:return r=e.sent,e.abrupt("return",r.map((function(e){return{label:e.name,value:e.name}})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),x=(0,c.cn)({key:"apiProviderSelected",default:null}),Z=(0,c.cn)({key:"apiBackends",default:p}),g=(0,c.nZ)({key:"apiBackendDropdownList",get:function(e){var t=e.get,n=t(Z),r=t(z);return n.filter((function(e){return-1===((null===r||void 0===r?void 0:r.disabled_api_backends)||[]).indexOf(e.id)})).map((function(e){return{label:e.name,value:e.id,provider:e.api_provider.name}}))}}),m=(0,c.cn)({key:"apiBackendSelected",default:null}),k=(0,c.cn)({key:"endpoints",default:l}),y=((0,c.nZ)({key:"endpointDropdownList",get:function(e){var t=(0,e.get)(k);return t.filter((function(e){return 0===e.version&&!e.draft})).sort((function(e,t){return e.created_on<t.created_on?1:-1})).map((function(e){return{label:"".concat(e.api_backend.api_provider.name," \xbb ").concat(e.api_backend.name," \xbb ").concat(e.name),uuid:e.uuid,options:t.filter((function(t){return t.parent_uuid===e.uuid})).map((function(t){return{label:"".concat(t.version,": ").concat(t.description),value:"".concat(t.parent_uuid,":").concat(t.version),version:t.version,backend:e.api_backend.name,provider:e.api_backend.api_provider.name,is_live:t.is_live,uuid:t.uuid}}))}}))}}),(0,c.cn)({key:"endpointSelected",default:null})),b=((0,c.nZ)({key:"endpointTableData",get:function(e){for(var t=(0,e.get)(k).filter((function(e){return!e.draft})).sort((function(e,t){return e.created_on<t.created_on?1:-1})),n=t.filter((function(e){return 0===e.version})).reduce((function(e,t){var n=(0,r.Z)({},t.uuid,(0,a.Z)((0,a.Z)({},t),{},{versions:[],key:t.uuid}));return(0,a.Z)((0,a.Z)({},e),n)}),{}),i=t.filter((function(e){return 0!==e.version})),u=0;u<i.length;u++)i[u].parent_uuid in n&&n[i[u].parent_uuid].versions.push((0,a.Z)((0,a.Z)({},i[u]),{},{key:i[u].uuid}));return Object.values(n)}}),(0,c.cn)({key:"endpointVersions",default:[]}),(0,c.cn)({key:"endpointConfigValue",default:{}})),w=(0,c.cn)({key:"promptValues",default:{}}),S=(0,c.cn)({key:"inputValue",default:{}}),_=((0,c.cn)({key:"saveEndpointModalVisible",default:!1}),(0,c.cn)({key:"saveEndpointVersionModalVisible",default:!1}),(0,c.cn)({key:"shareEndpointModalVisible",default:!1}),(0,c.cn)({key:"endpointShareCodeValue",default:null}),(0,c.nZ)({key:"profileFetchSelector",get:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/profiles/me");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})),j=(0,c.cn)({key:"profileValue",default:_}),I=(0,c.nZ)({key:"isLoggedIn",get:function(e){return null!==(0,e.get)(j)}}),A=(0,c.cn)({key:"promptHubState",default:[]}),C=((0,c.nZ)({key:"promptHubList",get:function(e){return(0,e.get)(A)}}),(0,c.cn)({key:"dataSourcesState",default:d})),E=(0,c.nZ)({key:"orgDataSourcesState",get:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.get,e.prev=1,n(W).IS_ORGANIZATION_MEMBER){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,(0,o.o)().get("/api/org/datasources");case 7:return r=e.sent,e.abrupt("return",r.data);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()}),O=(0,c.cn)({key:"dataSourceTypesState",default:f}),R=(0,c.cn)({key:"dataSourceEntriesState",default:[]}),T=(0,c.cn)({key:"orgDataSourceEntriesState",default:[]}),F=(0,c.nZ)({key:"dataSourceEntriesTableData",get:function(e){var t=e.get,n=t(R),r=t(W);n=n.map((function(e){return(0,a.Z)({isUserOwned:!0},e)}));var i=r.IS_ORGANIZATION_MEMBER?t(T):[];i=i.map((function(e){return(0,a.Z)({isUserOwned:!1},e)}));var u=t(C),c=(u=u.map((function(e){return(0,a.Z)({isUserOwned:!0},e)}))).map((function(e){return e.uuid})),o=r.IS_ORGANIZATION_MEMBER?t(E):[];o=(o=o.map((function(e){return(0,a.Z)({isUserOwned:!1},e)}))).filter((function(e){return!c.includes(e.uuid)}));for(var s=[],p={},l={},d=0;d<n.length;d++)n[d].datasource.uuid in p?p[n[d].datasource.uuid].push(n[d]):p[n[d].datasource.uuid]=[n[d]];for(var f=0;f<i.length;f++)i[f].datasource.uuid in l?l[i[f].datasource.uuid].push(i[f]):l[i[f].datasource.uuid]=[i[f]];for(var h=0;h<u.length;h++)s.push((0,a.Z)((0,a.Z)({},u[h]),{data_source_entries:p[u[h].uuid]||[]}));for(var v=0;v<o.length;v++)s.push((0,a.Z)((0,a.Z)({},o[v]),{data_source_entries:l[o[v].uuid]||[]}));return s}}),N=(0,c.cn)({key:"isMobileState",default:window.innerWidth<768}),M=((0,c.cn)({key:"appTemplateState",default:null}),(0,c.cn)({key:"appDebugState",default:{}}),(0,c.nZ)({key:"appsFetchSelector",get:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/apps");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})),B=(0,c.cn)({key:"appsState",default:M}),D=(0,c.nZ)({key:"profileFlagsFetchSelector",get:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/profiles/me/flags");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),W=(0,c.cn)({key:"profileFlagsState",default:D}),L=(0,c.nZ)({key:"organizationFetchSelector",get:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/org");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),z=(0,c.cn)({key:"organizationState",default:L}),H=(0,c.nZ)({key:"connectionTypesFetchSelector",get:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/connection_types");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),V=(0,c.cn)({key:"connectionTypesState",default:H}),G=(0,c.nZ)({key:"connectionsFetchSelector",get:function(){var e=(0,u.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/connections");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),P=(0,c.cn)({key:"connectionsState",default:G}),U=(0,c.cn)({key:"streamChunksState",default:{}})},7077:function(e,t,n){n.d(t,{o:function(){return i}});var r=n(31243),a=n(35552),i=function(){var e=r.Z.create({xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken"});return e.interceptors.response.use((function(e){return e}),(function(e){window.location.pathname.startsWith("/s/")||window.location.pathname.startsWith("/hub")||window.location.pathname.startsWith("/app/")||401!==e.response.status&&403!==e.response.status||(window.location.href="/login?redirectUrl="+window.location.pathname);try{(0,a.yv)("Error Occurred",{variant:"error"})}catch(t){}return Promise.reject(e)})),e}},86348:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(93433),a=n(29439),i=n(43144),u=n(15671),c=n(7077),o=n(12705),s=n(72791),p=n(34663),l=n(64554),d=n(81918),f=n(48550),h=n(63466),v=n(20890),x=n(57621),Z=n(72363),g=n(9585),m=n(39504),k=n(11087),y=n(5403),b=n(24308),w=n(75330),S=n(80184),_=(0,i.Z)((function e(t,n,r,a,i){(0,u.Z)(this,e),this.type=t,this.title=n,this.description=r,this.tags=a,this.link=i}));function j(e){var t=e.filters,n=e.handleSearch,r=e.handleFilter,a=e.search,i=e.selectedFilter,u=void 0===i?"All":i;return(0,S.jsx)(p.Z,{sx:{position:"sticky",top:0,zIndex:1e3,margin:"5px",paddingTop:"2px",background:"white"},children:(0,S.jsxs)(b.Z,{container:!0,style:{alignItems:"center",width:"100%"},children:[(0,S.jsx)(b.Z,{item:!0,xs:12,md:8,children:(0,S.jsx)(l.Z,{sx:{textAlign:"left"},children:t.map((function(e){return(0,S.jsx)(d.Z,{sx:{margin:"5px",borderRadius:"10px"},label:e,onClick:function(){return r(e)},color:u===e?"primary":"default",background:"white"},e)}))})}),(0,S.jsx)(b.Z,{item:!0,xs:12,md:4,children:(0,S.jsx)(l.Z,{sx:{textAlign:"end"},children:(0,S.jsx)(f.Z,{placeholder:"Search",value:a,onChange:n,size:"small",InputProps:{sx:{borderRadius:"10px"},startAdornment:(0,S.jsx)(h.Z,{position:"start",children:(0,S.jsx)(y.Z,{fontSize:"small"})})}})})})]})})}function I(){var e=(0,k.lr)(),t=(0,a.Z)(e,1)[0],n=(0,s.useState)([]),i=(0,a.Z)(n,2),u=i[0],p=i[1],f=(0,s.useState)([]),h=(0,a.Z)(f,2),y=h[0],I=h[1],A=(0,s.useState)(["All"]),C=(0,a.Z)(A,2),E=C[0],O=C[1],R=(0,s.useState)("All"),T=(0,a.Z)(R,2),F=T[0],N=T[1],M=(0,s.useState)(""),B=(0,a.Z)(M,2),D=B[0],W=B[1],L=(0,s.useState)([]),z=(0,a.Z)(L,2),H=z[0],V=z[1],G=(0,w.sJ)(o.Dg),P=(0,w.sJ)(o.e7),U={textAlign:"left",width:"100%",fontFamily:"Lato, sans-serif",marginBottom:"10px",padding:"5px 10px",fontWeight:600,borderRadius:"5px",color:"#1c3c5a",fontSize:"18px",borderBottom:"solid 3px #1c3c5a",borderLeft:"solid 1px #ccc",borderRight:"solid 1px #ccc",display:G.IS_ORGANIZATION_MEMBER?"block":"none"};return(0,s.useEffect)((function(){(0,c.o)().get("/api/appHub").then((function(e){var t=e.data.map((function(e){var t="/app/".concat(e.published_uuid),n=((null===e||void 0===e?void 0:e.categories)||[]).map((function(e){return e.name}));return 0===n.length&&n.push("Productivity"),new _("app",e.name,e.description,n,t)}));p(t)})).catch((function(e){})).then({})}),[p]),(0,s.useEffect)((function(){G.IS_ORGANIZATION_MEMBER&&(0,c.o)().get("/api/org/apps").then((function(e){V(e.data)}))}),[G.IS_ORGANIZATION_MEMBER,V]),(0,s.useEffect)((function(){I((0,r.Z)(u));var e=(0,r.Z)((0,r.Z)(u).map((function(e){return e.tags})));O(["All"].concat((0,r.Z)(new Set(e.flat())))),t.get("filter")&&N(t.get("filter")),t.get("search")&&W(t.get("search"))}),[u,t]),(0,s.useEffect)((function(){var e=(0,r.Z)(u);F&&"All"!==F&&(e=e.filter((function(e){return e.tags.includes(F)}))),""!==D&&(e=e.filter((function(e){return e.title.toLowerCase().includes(D.toLowerCase())}))),I(e)}),[F,D,u]),(0,S.jsx)("div",{children:(0,S.jsxs)(l.Z,{children:[(0,S.jsx)(j,{filters:E,selectedFilter:F,handleFilter:function(e){return N(e)},handleSearch:function(e){return W(e.target.value)},search:D}),(0,S.jsxs)(v.Z,{style:U,variant:"h5",children:["Apps from ",null===P||void 0===P?void 0:P.name]}),(0,S.jsx)(b.Z,{container:!0,sx:{marginTop:"10px",display:G.IS_ORGANIZATION_MEMBER?"flex":"none"},spacing:{xs:1,md:1},columns:{xs:1,sm:8,md:12},children:H.map((function(e,t){return(0,S.jsx)(b.Z,{item:!0,sx:{display:"flex",justifyContent:"center",flexDirection:"row",marginBottom:"20px"},md:{flexDirection:"column"},children:(0,S.jsx)("a",{href:"/app/".concat(e.published_uuid),children:(0,S.jsxs)(x.Z,{sx:{width:{xs:"100%",md:200},height:120,maxHeight:150,borderRadius:{xs:"3px",md:"10px"},position:"relative",cursor:"pointer",margin:"6px",background:"white",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},className:"discover-card",elevation:5,children:[(0,S.jsx)(v.Z,{fontSize:18,fontWeight:700,color:"#183A58",sx:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,overflow:"hidden",marginTop:"10px"},children:null===e||void 0===e?void 0:e.name}),(0,S.jsx)(Z.Z,{sx:{marginTop:"10px"},children:(0,S.jsx)(d.Z,{label:e.owner_email.split("@")[0],sx:{height:"22px",backgroundColor:"#CCC",color:"black",borderRadius:"10px"}})})]})})},t)}))}),(0,S.jsx)(v.Z,{style:U,variant:"h5",children:"Featured Apps"}),(0,S.jsx)(b.Z,{container:!0,sx:{marginTop:"10px"},spacing:{xs:1,md:1},columns:{xs:1,sm:8,md:12},children:y.map((function(e,t){return(0,S.jsx)(b.Z,{item:!0,sx:{position:"relative",display:"flex",justifyContent:"center"},children:(0,S.jsx)("a",{href:"".concat(window.location.protocol,"//").concat(window.location.host).concat(e.link),children:(0,S.jsxs)(x.Z,{sx:{width:{xs:"100%",md:228},minWidth:{md:228},height:250,maxHeight:310,borderRadius:{xs:"3px",md:"10px"},cursor:"pointer",margin:"6px",background:"white",zIndex:2},className:"discover-card",elevation:5,onClick:function(){return window.location.href=e.link},children:[(0,S.jsx)(g.Z,{title:(0,S.jsx)(v.Z,{fontSize:20,fontWeight:700,color:"#183A58",sx:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,overflow:"hidden",marginTop:"10px"},children:null===e||void 0===e?void 0:e.title}),sx:{paddingBottom:0}}),(0,S.jsx)(m.Z,{className:"discover-card-content",sx:{padding:1,maxHeight:"60%",maxWidth:"100%",overflow:"scroll",color:"#555",fontSize:"16px",lineHeight:"1.3em"},children:null===e||void 0===e?void 0:e.description}),(0,S.jsx)(Z.Z,{sx:{position:"absolute",background:"#fff",bottom:15,width:"90%"},children:(0,S.jsx)(l.Z,{sx:{width:"100%"},children:e.tags.slice(0,5).map((function(e,t){return(0,S.jsx)(d.Z,{label:e.length>10?e.substr(0,5)+"...":e,sx:{height:"24px",margin:"2px",borderRadius:"10px"}},t)}))})})]})})},t)}))})]})})}}}]);
//# sourceMappingURL=6348.b0785ee0.chunk.js.map