Metadata-Version: 2.1
Name: sequana-depletion
Version: 0.3.0
Summary: A pipeline to deplete reads from a given reference
Home-page: https://github.com/sequana/depletion
License: BSD-3
Keywords: snakemake,sequana,depletion,NGS
Author: Sequana Team
Requires-Python: >=3.8,<4.0
Classifier: Development Status :: 5 - Production/Stable
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Education
Classifier: Intended Audience :: End Users/Desktop
Classifier: Intended Audience :: Science/Research
Classifier: License :: OSI Approved :: BSD License
Classifier: License :: Other/Proprietary License
Classifier: Operating System :: POSIX :: Linux
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Scientific/Engineering :: Bio-Informatics
Classifier: Topic :: Scientific/Engineering :: Information Analysis
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Dist: click (>=8.1.7,<9.0.0)
Requires-Dist: click-completion (>=0.5.2,<0.6.0)
Requires-Dist: sequana (>=0.16.4,<0.17.0)
Requires-Dist: sequana-pipetools (>=0.16.6,<0.17.0)
Project-URL: Repository, https://github.com/sequana/depletion
Description-Content-Type: text/x-rst


.. image:: https://badge.fury.io/py/sequana-depletion.svg
     :target: https://pypi.python.org/pypi/sequana_depletion

.. image:: http://joss.theoj.org/papers/10.21105/joss.00352/status.svg
    :target: http://joss.theoj.org/papers/10.21105/joss.00352
    :alt: JOSS (journal of open source software) DOI

.. image:: https://github.com/sequana/depletion/actions/workflows/main.yml/badge.svg
   :target: https://github.com/sequana/depletion/actions/workflows    




This is is the **depletion** pipeline from the `Sequana <https://sequana.readthedocs.org>`_ project

:Overview: select or deplete reads from input FastQ files given a reference
:Input: Fastq Files
:Output: Fastq Files
:Status: production
:Citation: Cokelaer et al, (2017), ‘Sequana’: a Set of Snakemake NGS pipelines, Journal of Open Source Software, 2(16), 352, JOSS DOI doi:10.21105/joss.00352


Installation
~~~~~~~~~~~~

Install this package as follows::

    pip install sequana_depletion

it requires https://sequana.readthedocs.io and https://bioconvert.readthedocs.io for the bam to fastq conversion


Usage
~~~~~

::

    sequana_depletion --help
    sequana_depletion --input-directory DATAPATH --reference hg38.fa --mode depletion
    sequana_depletion --input-directory DATAPATH --reference covid.fa --mode selection

This creates a directory with the pipeline and configuration file. You will then need
to execute the pipeline::

    cd depletion
    sh depletion.sh  # for a local run

This launch a snakemake pipeline. If you are familiar with snakemake, you can
retrieve the pipeline itself and its configuration files and then execute the pipeline yourself with specific parameters::

    snakemake -s depletion.rules -c config.yaml --cores 4 --stats stats.txt

Or use `sequanix <https://sequana.readthedocs.io/en/master/sequanix.html>`_ interface.

Requirements
~~~~~~~~~~~~

This pipelines requires the following executable(s):

- bwa
- samtools
- bamtools

#.. image:: https://raw.githubusercontent.com/sequana/depletion/master/sequana_pipelines/depletion/dag.png


Details
~~~~~~~~~

This pipeline runs **depletion** in parallel on the input fastq files (paired or not). 
A brief sequana summary report is also produced.


Rules and configuration details
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Here is the `latest documented configuration file <https://raw.githubusercontent.com/sequana/depletion/master/sequana_pipelines/depletion/config.yaml>`_
to be used with the pipeline. Each rule used in the pipeline may have a section in the configuration file. 

Changelog
~~~~~~~~~

========= ====================================================================
Version   Description
========= ====================================================================
0.3.0     * use click and new sequana_pipetools. convert to pyproject
0.2.0     * handle paired/unpaired data
          * refactorise to use containers/apptainers
0.1.0     **First release.**
========= ====================================================================



