"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[911],{17212:function(n,t,e){e.d(t,{Z:function(){return j}});var r=e(52322),i=e(57830),s=e(18399),a=e(37783),o=e(2784),u=e(61935),c=e(21485),l=e(98349),d=e(6315),p=e(38917),m=e(16148),x=e(87812),j=o.memo(function(n){var t,e=n.name,j=n.run,f=n.showHover,h=n.showButton,g=n.showSummary,v=void 0===g||g,b=j.status,y=o.useMemo(function(){switch(b){case u.VOA.SUCCESS:return"success";case u.VOA.CANCELED:case u.VOA.CANCELING:case u.VOA.FAILURE:return"danger";default:return"none"}},[b]);return(0,r.jsxs)(s.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-start",gap:16},children:[(0,r.jsxs)(s.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[(0,r.jsxs)(s.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(t=(0,r.jsx)(i.V,{intent:y,children:(0,r.jsxs)(s.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,r.jsx)(c.K9,{status:j.status,size:10}),(0,r.jsx)(p.Zr,{run:j})]})}),void 0!==f&&f?(0,r.jsx)(a.J,{position:"top",interactionKind:"hover",content:(0,r.jsx)("div",{children:(0,r.jsx)(l.qL,{run:j,name:e})}),hoverOpenDelay:100,children:t}):t),v?(0,r.jsx)(p.Tw,{run:j}):null]}),v&&(d.hd.has(j.status)||d.Ys.has(j.status))?(0,r.jsx)(x.I,{runId:j.id}):void 0]}),void 0===h||h?(0,r.jsx)(m.A,{to:"/runs/".concat(j.id),children:"View run"}):null]})})},87812:function(n,t,e){e.d(t,{I:function(){return StepSummaryForRun}});var r=e(73235),i=e(52322),s=e(40794),a=e(60138),o=e(81308),u=e(25195),c=e(19126),l=e.n(c),d=e(2784),p=e(47933),m=e(61935),x=e(6315);function _templateObject(){var n=(0,r._)(["\n  query StepSummaryForRunQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n        stepStats {\n          endTime\n          stepKey\n          status\n        }\n      }\n    }\n  }\n"]);return _templateObject=function(){return n},n}var StepSummaryForRun=function(n){var t=n.runId,e=(0,s.a)(j,{variables:{runId:t}}).data,r=null==e?void 0:e.pipelineRunOrError,a=(null==r?void 0:r.__typename)==="Run"?r.status:null,c=d.useMemo(function(){if((null==r?void 0:r.__typename)!=="Run")return[];var n=r.status;return x.hd.has(n)?r.stepStats.filter(function(n){return n.status===m.SGm.FAILURE}):x.Ys.has(n)?r.stepStats.filter(function(n){return n.status===m.SGm.IN_PROGRESS}):[]},[r]),f=c.length;if(!f||!a)return null;if(x.hd.has(a)){if(1===f){var h=c[0],g=h.endTime?l().stringify({focusedTime:Math.floor(1e3*h.endTime)},{addQueryPrefix:!0}):"";return(0,i.jsxs)(o.YS,{color:(0,u.$)(),children:["Failed at ",(0,i.jsx)(p.rU,{to:"/runs/".concat(t).concat(g),children:h.stepKey})]})}return(0,i.jsxs)(o.YS,{color:(0,u.$)(),children:["Failed at ",(0,i.jsxs)(p.rU,{to:"/runs/".concat(t),children:[f," steps"]})]})}if(x.Ys.has(a)){if(1===f){var v=c[0],b=v.endTime?l().stringify({focusedTime:Math.floor(1e3*v.endTime)},{addQueryPrefix:!0}):"";return(0,i.jsxs)(o.YS,{color:(0,u.$)(),children:["In progress at ",(0,i.jsx)(p.rU,{to:"/runs/".concat(t).concat(b),children:v.stepKey})]})}return(0,i.jsxs)(o.YS,{color:(0,u.$)(),children:["In progress at ",(0,i.jsxs)(p.rU,{to:"/runs/".concat(t),children:[f," steps"]})]})}return null},j=(0,a.Ps)(_templateObject())},91230:function(n,t,e){e.d(t,{dY:function(){return h},i0:function(){return RunList},lB:function(){return FailedRunList}});var r=e(73235),i=e(52322),s=e(40794),a=e(60138),o=e(18399),u=e(63832),c=e(92364),l=e(59692),d=e(25195),p=e(81308),m=e(43180),x=e(34e3);e(2784);var j=e(91195),f=e(64107);function _templateObject(){var n=(0,r._)(["\n  fragment TickTagFragment on InstigationTick {\n    id\n    status\n    timestamp\n    skipReason\n    runIds\n    runKeys\n    error {\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"]);return _templateObject=function(){return n},n}function _templateObject1(){var n=(0,r._)(["\n  query LaunchedRunListQuery($filter: RunsFilter!) {\n    pipelineRunsOrError(filter: $filter, limit: 500) {\n      ... on PipelineRuns {\n        results {\n          ...RunTableRunFragment\n          id\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return _templateObject1=function(){return n},n}var RunList=function(n){var t=n.runIds,e=(0,s.a)(g,{variables:{filter:{runIds:t}}}),r=e.data;return e.loading||!r?(0,i.jsx)(o.x,{padding:32,children:(0,i.jsx)(u.$,{purpose:"section"})}):"Runs"!==r.pipelineRunsOrError.__typename?(0,i.jsx)(o.x,{padding:32,children:(0,i.jsx)(c.t,{icon:"error",title:"An error occurred",description:r.pipelineRunsOrError.message})}):(0,i.jsx)(o.x,{padding:{bottom:8},children:(0,i.jsx)(f.AL,{runs:r.pipelineRunsOrError.results})})},FailedRunList=function(n){var t=n.originRunIds;return t&&t.length?(0,i.jsxs)(l.Z,{direction:"column",spacing:16,children:[(0,i.jsxs)(o.x,{padding:12,border:{side:"bottom",color:(0,d.Aw)()},children:[(0,i.jsxs)(p.uT,{children:["Failed Runs",(0,i.jsx)(m.u,{content:"Failed runs this tick reacted on and reported back to.",children:(0,i.jsx)(x.JO,{name:"info",color:(0,d.$)()})})]}),(0,i.jsx)(RunList,{runIds:t})]}),(0,i.jsxs)(o.x,{padding:12,margin:{bottom:8},children:[(0,i.jsxs)(p.uT,{children:["Requested Runs",(0,i.jsx)(m.u,{content:"Runs launched by the run requests in this tick.",children:(0,i.jsx)(x.JO,{name:"info",color:(0,d.$)()})})]}),(0,i.jsx)(c.t,{icon:"sensors",title:"No runs to display",description:"This sensor does not target a pipeline or job."})]})]}):null},h=(0,a.Ps)(_templateObject(),j.B),g=(0,a.Ps)(_templateObject1(),f.ZZ,j.B)},49280:function(n,t,e){e.d(t,{Jy:function(){return v},RX:function(){return RunStatusLink},S9:function(){return h},UD:function(){return InstigatedRunStatus},ai:function(){return g},vw:function(){return y}});var r=e(58467),i=e(73235),s=e(52322),a=e(60138),o=e(25195),u=e(59692),c=e(81308);e(2784);var l=e(47933),d=e(35505),p=e(91195),m=e(17212),x=e(21485),j=e(38917),f=e(91230);function _templateObject(){var n=(0,i._)(["\n  fragment RunStatusFragment on Run {\n    id\n    status\n  }\n"]);return _templateObject=function(){return n},n}function _templateObject1(){var n=(0,i._)(["\n  fragment InstigationStateFragment on InstigationState {\n    id\n    selectorId\n    name\n    instigationType\n    status\n    hasStartPermission\n    hasStopPermission\n    repositoryName\n    repositoryLocationName\n    typeSpecificData {\n      ... on SensorData {\n        lastRunKey\n        lastCursor\n      }\n      ... on ScheduleData {\n        cronSchedule\n      }\n    }\n    runs(limit: 1) {\n      id\n      ...RunStatusFragment\n      ...RunTimeFragment\n    }\n    status\n    ticks(limit: 1) {\n      id\n      cursor\n      ...TickTagFragment\n    }\n    runningCount\n  }\n\n  ","\n  ","\n  ","\n"]);return _templateObject1=function(){return n},n}function _templateObject2(){var n=(0,i._)(["\n  font-size: 13px;\n  border-spacing: 0;\n\n  &&&&& tr {\n    box-shadow: none;\n  }\n\n  &&&&& tbody > tr > td {\n    background: transparent;\n    box-shadow: none !important;\n    padding: 1px 0;\n  }\n\n  &&&&& tbody > tr > td:first-child {\n    color: ",";\n  }\n"]);return _templateObject2=function(){return n},n}function _templateObject3(){var n=(0,i._)(["\n  fragment DynamicPartitionsRequestResultFragment on DynamicPartitionsRequestResult {\n    partitionsDefName\n    partitionKeys\n    skippedPartitionKeys\n    type\n  }\n"]);return _templateObject3=function(){return n},n}function _templateObject4(){var n=(0,i._)(["\n  fragment HistoryTick on InstigationTick {\n    id\n    tickId\n    status\n    timestamp\n    endTimestamp\n    cursor\n    instigationType\n    skipReason\n    runIds\n    runs {\n      id\n      status\n      ...RunStatusFragment\n    }\n    originRunIds\n    error {\n      ...PythonErrorFragment\n    }\n    logKey\n    ...TickTagFragment\n    dynamicPartitionsRequestResults {\n      ...DynamicPartitionsRequestResultFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return _templateObject4=function(){return n},n}var InstigatedRunStatus=function(n){var t=n.instigationState,e=(0,r._)(t.runs,1)[0];return e?(0,s.jsx)(m.Z,{run:e,name:t.name}):(0,s.jsx)("span",{style:{color:(0,o.$)()},children:"None"})},RunStatusLink=function(n){var t=n.run;return(0,s.jsxs)(u.Z,{direction:"row",spacing:4,alignItems:"center",children:[(0,s.jsx)(x.K9,{status:t.status}),(0,s.jsx)(l.rU,{to:"/runs/".concat(t.id),target:"_blank",rel:"noreferrer",children:(0,s.jsx)(c.fv,{children:(0,j.EI)({id:t.id})})})]})},h=(0,a.Ps)(_templateObject()),g=(0,a.Ps)(_templateObject1(),h,j.$X,f.dY),v=d.ZP.table.withConfig({componentId:"sc-7a6f28ee-0"})(_templateObject2(),(0,o.$)()),b=(0,a.Ps)(_templateObject3()),y=(0,a.Ps)(_templateObject4(),h,p.B,f.dY,b)},32911:function(n,t,e){e.d(t,{X:function(){return TickDetailsDialog},c:function(){return TickDetailSummary}});var r=e(58467),i=e(73235),s=e(52322),a=e(40794),o=e(60138);e(33521);var u=e(10952),c=e(9001),l=e(18399),d=e(63832),p=e(81308),m=e(57830),x=e(12084),j=e(54266),f=e(16861),h=e(2784),g=e(66904),v=e(91195),b=e(56266),y=e(46032),R=e(58701),I=e(61935),S=e(30301),_=e(91230),O=e(49280);function _templateObject(){var n=(0,i._)(["\n  query SelectedTickQuery($instigationSelector: InstigationSelector!, $tickId: Int!) {\n    instigationStateOrError(instigationSelector: $instigationSelector) {\n      ... on InstigationState {\n        id\n        tick(tickId: $tickId) {\n          id\n          ...HistoryTick\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return _templateObject=function(){return n},n}var TickDetailsDialog=function(n){var t=n.tickId,e=n.isOpen,r=n.instigationSelector,i=n.onClose;return(0,s.jsxs)(u.Vq,{isOpen:e,onClose:i,style:{width:"90vw"},children:[(0,s.jsx)(TickDetailsDialogImpl,{tickId:t,instigationSelector:r}),(0,s.jsx)(u.cN,{children:(0,s.jsx)(c.zx,{onClick:i,children:"Close"})})]})},TickDetailsDialogImpl=function(n){var t=n.tickId,e=n.instigationSelector,i=(0,a.a)(T,{variables:{instigationSelector:e,tickId:t||0},skip:!t}).data,o=(null==i?void 0:i.instigationStateOrError.__typename)==="InstigationState"?null==i?void 0:i.instigationStateOrError.tick:void 0,c=(0,r._)(h.useMemo(function(){return[null==o?void 0:o.dynamicPartitionsRequestResults.filter(function(n){var t;return n.type===I.Dq2.ADD_PARTITIONS&&(null===(t=n.partitionKeys)||void 0===t?void 0:t.length)}),null==o?void 0:o.dynamicPartitionsRequestResults.filter(function(n){var t;return n.type===I.Dq2.DELETE_PARTITIONS&&(null===(t=n.partitionKeys)||void 0===t?void 0:t.length)})]},[null==o?void 0:o.dynamicPartitionsRequestResults]),2),m=c[0],x=c[1];return o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.fK,{label:(0,s.jsx)(S.v,{timestamp:o.timestamp,timeFormat:{showTimezone:!1,showSeconds:!0}})}),(0,s.jsx)(l.x,{padding:{vertical:12,horizontal:24},border:"bottom",children:(0,s.jsx)(TickDetailSummary,{tick:o})}),o.runIds.length||o.originRunIds.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.x,{padding:{vertical:12,horizontal:24},border:"bottom",children:(0,s.jsx)(p.Tj,{children:"Runs requested"})}),o.runIds.length?(0,s.jsx)(_.i0,{runIds:o.runIds}):(0,s.jsx)(_.lB,{originRunIds:o.originRunIds})]}):null,(null==m?void 0:m.length)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.x,{padding:{vertical:12,horizontal:24},border:"bottom",children:(0,s.jsx)(p.Tj,{children:"Added partitions"})}),(0,s.jsx)(PartitionsTable,{partitions:m})]}):null,(null==x?void 0:x.length)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.x,{padding:{vertical:12,horizontal:24},border:"bottom",children:(0,s.jsx)(p.Tj,{children:"Deleted partitions"})}),(0,s.jsx)(PartitionsTable,{partitions:x})]}):null]}):(0,s.jsx)(l.x,{style:{padding:32},flex:{alignItems:"center",justifyContent:"center"},children:(0,s.jsx)(d.$,{purpose:"section"})})};function TickDetailSummary(n){var t,e=n.tick,r=h.useMemo(function(){switch(null==e?void 0:e.status){case I.izS.FAILURE:return"danger";case I.izS.STARTED:return"primary";case I.izS.SUCCESS:return"success"}},[e]),i="requestedAssetMaterializationCount"in e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:12},children:[(0,s.jsxs)(l.x,{flex:{direction:"column",gap:4},children:[(0,s.jsx)(p.Tj,{children:"Status"}),(0,s.jsxs)(l.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,s.jsx)(m.V,{intent:r,children:e.status===I.izS.STARTED?"Evaluating…":(0,s.jsxs)(s.Fragment,{children:[null!==(t=i?e.requestedAssetMaterializationCount:e.runIds.length)&&void 0!==t?t:0," ","requested"]})}),e.error?(0,s.jsx)(x.Z,{onClick:function(){(0,g._)({title:"Tick error",body:(0,s.jsx)(b.T9,{error:e.error})})},children:"View error"}):null]})]}),(0,s.jsxs)(l.x,{flex:{direction:"column",gap:4},children:[(0,s.jsx)(p.Tj,{children:"Timestamp"}),(0,s.jsx)("div",{children:e?(0,s.jsx)(R.E,{timestamp:{unix:e.timestamp},timeFormat:{showTimezone:!0}}):"–"})]}),(0,s.jsxs)(l.x,{flex:{direction:"column",gap:4},children:[(0,s.jsx)(p.Tj,{children:"Duration"}),(0,s.jsx)("div",{children:(null==e?void 0:e.endTimestamp)?(0,y.R4)(1e3*e.endTimestamp-1e3*e.timestamp):"–"})]})]})})}function PartitionsTable(n){var t=n.partitions;return(0,s.jsxs)(j.i,{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Partition definition"}),(0,s.jsx)("th",{children:"Partition"})]})}),(0,s.jsx)("tbody",{children:t.flatMap(function(n){var t;return null===(t=n.partitionKeys)||void 0===t?void 0:t.map(function(t){return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(f.g,{text:n.partitionsDefName})}),(0,s.jsx)("td",{children:(0,s.jsx)(f.g,{text:t})})]},t)})})})]})}var T=(0,o.Ps)(_templateObject(),v.B,O.vw)},98349:function(n,t,e){e.d(t,{JH:function(){return RunStatusPezList},qL:function(){return RunStatusOverlay}});var r=e(73235),i=e(52322),s=e(18399),a=e(37783),o=e(81308),u=e(25195),c=e(3842);e(2784);var l=e(47933),d=e(35505),p=e(87812),m=e(21485),x=e(87424),j=e(6315),f=e(38917);function _templateObject(){var n=(0,r._)(["\n  padding: 4px;\n  font-size: 12px;\n  width: 220px;\n"]);return _templateObject=function(){return n},n}function _templateObject1(){var n=(0,r._)(["\n  padding: 8px;\n  box-shadow: inset 0 -1px ",";\n  font-family: ",";\n  font-size: 14px;\n  font-weight: 500;\n  color: ",";\n  max-width: 100%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  min-width: 0px;\n"]);return _templateObject1=function(){return n},n}function _templateObject2(){var n=(0,r._)(["\n  padding: 8px;\n  font-size: 12px;\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n"]);return _templateObject2=function(){return n},n}function _templateObject3(){var n=(0,r._)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding: 4px 8px 8px;\n\n  :empty {\n    display: none;\n  }\n"]);return _templateObject3=function(){return n},n}function _templateObject4(){var n=(0,r._)(["\n  background-color: ",";\n  border-radius: 2px;\n  height: 16px;\n  opacity: ",";\n  width: 8px;\n"]);return _templateObject4=function(){return n},n}var RunStatusPez=function(n){var t=n.status,e=n.opacity,r=x.YM[t];return(0,i.jsx)(y,{$color:r,$opacity:void 0===e?1:e})},RunStatusPezList=function(n){var t=n.fade,e=n.jobName,r=n.runs,o=r.length,u=.8/Math.max(3,o);return(0,i.jsx)(s.x,{flex:{direction:"row",alignItems:"center",gap:2},children:r.map(function(n,r){return(0,i.jsx)(a.J,{position:"top",interactionKind:"hover",content:(0,i.jsx)("div",{children:(0,i.jsx)(RunStatusOverlay,{run:n,name:e})}),hoverOpenDelay:100,children:(0,i.jsx)(RunStatusPez,{runId:n.id,status:n.status,opacity:t?1-(o-r-1)*u:1},n.id)},n.id)})})},RunStatusOverlay=function(n){var t=n.name,e=n.run;return(0,i.jsxs)(h,{children:[(0,i.jsx)(g,{children:t}),(0,i.jsxs)(v,{children:[(0,i.jsxs)(s.x,{flex:{alignItems:"center",direction:"row",gap:8},children:[(0,i.jsx)(m.K9,{status:e.status}),(0,i.jsx)(l.rU,{to:"/runs/".concat(e.id),children:(0,i.jsx)(o.fv,{style:{fontSize:"14px"},children:(0,f.EI)(e)})})]}),(0,i.jsxs)(s.x,{flex:{direction:"column",gap:4},padding:{top:2},children:[(0,i.jsx)(f.Zr,{run:e}),(0,i.jsx)(f.Tw,{run:e})]})]}),j.hd.has(e.status)||j.Ys.has(e.status)?(0,i.jsx)(b,{children:(0,i.jsx)(p.I,{runId:e.id})}):null]})},h=d.ZP.div.withConfig({componentId:"sc-2d465f8d-0"})(_templateObject()),g=d.ZP.div.withConfig({componentId:"sc-2d465f8d-1"})(_templateObject1(),(0,u.wL)(),c.b.default,(0,u.Ep)()),v=d.ZP.div.withConfig({componentId:"sc-2d465f8d-2"})(_templateObject2()),b=d.ZP.div.withConfig({componentId:"sc-2d465f8d-3"})(_templateObject3()),y=d.ZP.div.withConfig({componentId:"sc-2d465f8d-4"})(_templateObject4(),function(n){return n.$color},function(n){return n.$opacity})}}]);
//# sourceMappingURL=911.feac8c05b116b1ed.js.map