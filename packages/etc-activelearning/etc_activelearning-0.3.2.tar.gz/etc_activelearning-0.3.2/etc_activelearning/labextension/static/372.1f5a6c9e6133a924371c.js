"use strict";(self.webpackChunketc_activelearning=self.webpackChunketc_activelearning||[]).push([[372],{372:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var l=n(122);function r(e){const t=document.createElement("fieldset"),n=document.createElement("form"),l=document.createElement("h3");return l.textContent=e,t.appendChild(n),n.appendChild(l),[t,n]}function i(e){const t=document.createElement("p"),n=document.createElement("div");t.textContent=e[0];for(let t=1;t<=4;t++){const l=e[t][0],r=document.createElement("input"),i=document.createElement("label");switch(r.setAttribute("type","radio"),r.setAttribute("name","mcq"),r.classList.add("mcq","button"),i.innerText=e[t].substring(1)+"\n",i.setAttribute("id",`button-${t}`),i.prepend(r),n.appendChild(i),l){case"-":i.classList.add("mcq","correct");break;case".":i.classList.add("mcq","incorrect")}}function l(e){e.preventDefault();const t=n.querySelectorAll(".mcq.button");let l=!1;for(let e=0;e<4;e++)if(t[e].checked){l=!0;break}if(!l)return void alert("Please select an option");const i=n.querySelectorAll(".mcq.correct"),o=n.querySelectorAll(".mcq.incorrect");i.forEach((e=>{e.style.color="green"})),o.forEach((e=>{e.style.color="red"})),t.forEach((e=>{e.disabled=!0})),r.disabled=!0}const r=document.createElement("button");return r.textContent="Submit",r.addEventListener("click",l),n.addEventListener("keypress",(e=>{"Enter"===e.key&&l(e)})),[t,n,r]}const o=(e,t)=>{const[n,l]=r("Choose the most appropriate option");t.appendChild(n);const o=e.toJSON().source.split("\n"),[a,c,s]=i(o);l.appendChild(a),l.appendChild(c),n.appendChild(s)};function a(e){let t=document.createElement("div"),n={},l=1;t.textContent="";for(let r=0;r<e.length;r++){let i=e[r];if("{"===i[0]){let e=document.createElement("input");e.setAttribute("type","text"),e.setAttribute("id",`blank${l}`),e.setAttribute("placeholder","_____"),t.innerHTML+=`<input type="text" id=blank${l}>`;let r=i.substring(1,i.length-1);n[`blank${l}`]=r,l++}else t.innerHTML+=`${i} `;t.setAttribute("line-height","1.5")}const r=document.createElement("div");function i(e){e.preventDefault();let l=!0;for(const e in n){const r=t.querySelector(`#${e}`);(null==r?void 0:r.value.trim().toLowerCase())===n[e]?(r.style.boxShadow="0 0 0 1px green",r.disabled=!0):(r.style.boxShadow="0 0 0 1px red",l=!1)}l&&(r.textContent="All answers are correct!",o.disabled=!0)}r.setAttribute("id","resultFIB");const o=document.createElement("button");return o.textContent="Submit",o.addEventListener("click",i),t.addEventListener("keypress",(e=>{"Enter"===e.key&&i(e)})),[t,r,o]}const c=(e,t)=>{const[n,l]=r("Fill in the Blanks");t.appendChild(n);const i=e.toJSON().source.split(" "),[o,c,s]=a(i);l.appendChild(o),n.appendChild(c),n.appendChild(s)};function s(e){this.style.opacity="0.4",f=this,e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",this.innerHTML))}function d(e){this.classList.add("over")}function u(e){e.stopPropagation(),this.classList.remove("over")}function p(e){return e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move"),!1}function h(e){if(f!=this&&null!=f&&(f.innerHTML=this.innerHTML,e.dataTransfer&&e.currentTarget instanceof HTMLElement)){this.innerHTML=e.dataTransfer.getData("text/html");let t=e.currentTarget.id;e.currentTarget.id=f.id,f.id=t}return!1}function b(e){document.querySelectorAll(".PPblock").forEach((function(e){e.classList.remove("over")})),this.style.opacity="1"}function m(e){e.addEventListener("dragstart",s,!1),e.addEventListener("dragenter",d,!1),e.addEventListener("dragover",p,!1),e.addEventListener("dragleave",u,!1),e.addEventListener("drop",h,!1),e.addEventListener("dragend",b,!1)}let f;function v(e){const t=document.createElement("div");t.setAttribute("id","ppContainer");const n=document.createElement("ul");n.setAttribute("id","ppList"),t.appendChild(n);let l={},r=1;for(let t=0;t<e.length;t++){let n=e[t].trim();l[`PP${r}`]=n,r++}const i=Object.keys(l);for(let e=i.length;e>0;e--){let e=Math.floor(Math.random()*i.length);const t=l[i[e]];let r=document.createElement("li");r.id=i[e],r.classList.add("PPblock"),r.draggable=!0,r.textContent=t,n.append(r),i.splice(e,1)}const o=document.createElement("div");function a(e){e.preventDefault();let n=t.querySelectorAll(".PPblock");for(let e=0;e<n.length;e++){let t=n[e];if(Number(t.id[2])!==e+1)return void(o.textContent="Try Again")}o.textContent="All answers are correct!",c.disabled=!0,t.style.pointerEvents="none"}o.setAttribute("id","resultPP");const c=document.createElement("button");return c.textContent="Submit",c.addEventListener("click",a),t.addEventListener("keypress",(e=>{"Enter"===e.key&&a(e)})),[t,o,c]}const g=(e,t)=>{const[n,l]=r("Reorder the following code blocks by dragging them");t.appendChild(n);const i=e.toJSON().source.split("\n"),[o,a,c]=v(i);l.appendChild(o),n.appendChild(a),n.appendChild(c);let s=document.querySelectorAll(".PPblock");[].forEach.call(s,(function(e){m(e)}))},C=(e,t)=>{function n(e,n,l){let r=document.createElement("button");return r.classList.add("tabLinks"),r.innerHTML=n,r.addEventListener("click",(e=>{!function(e,n){let l=t.querySelectorAll(".tabContent");if(l)for(let e=0;e<l.length;e+=1)l[e].style.display="none";let r=t.querySelectorAll(".tabLinks");for(let e=0;e<r.length;e+=1)r[e].classList.remove("active");let i=t.querySelector(`#${n}`);i&&(i.style.display="block"),e.target&&e.target.classList.add("active")}(e,l)})),r}function l(e,t){const n=document.createElement("div");return n.setAttribute("id",e),n.classList.add("tabContent"),t&&(n.style.display="none"),n}const o=document.createElement("div");t.appendChild(o),o.classList.add("tab");const c=["MCQTabDiv","FIBTabDiv","PPTabDiv"],s=["Multiple Choice Questions","Fill in the Blanks","Parson's Problems"];for(let e=0;e<s.length;e++){const t=n(0,s[e],c[e]);o.appendChild(t)}const d=l(c[0],!1);t.appendChild(d);for(let e=1;e<s.length;e++){const n=l(c[e],!0);t.appendChild(n)}const u=e.toJSON().source.split("---");for(let e=1;e<u.length;e++){let n=u[e].substring(0,2),l=u[e].substring(3);switch(n){case"mc":{const[e,n]=r("Choose the most appropriate option"),o=t.querySelector("#MCQTabDiv");null==o||o.appendChild(e);const[a,c,s]=i(l.split("\n"));n.appendChild(a),n.appendChild(c),e.appendChild(s);break}case"fb":{const[e,n]=r("Fill in the Blanks"),i=t.querySelector("#FIBTabDiv");null==i||i.appendChild(e);const[o,c,s]=a(l.split(" "));n.appendChild(o),e.appendChild(c),e.appendChild(s);break}case"pp":{const[e,n]=r("Reorder the following code blocks by dragging them"),i=t.querySelector("#PPTabDiv");null==i||i.appendChild(e);const[o,a,c]=v(l.split("\n"));n.appendChild(o),e.appendChild(a),e.appendChild(c);let s=t.querySelectorAll(".PPblock");[].forEach.call(s,(function(e){m(e)}));break}}}},y={id:"etc_activelearning:plugin",description:"A JupyterLab extension that enables data-science instructors to improve teaching by including tasks for students to complete during video lecutres on MOOCs",autoStart:!0,requires:[l.INotebookTracker],activate:async(e,t)=>{console.log("JupyterLab extension etc_activelearning is activated!"),t.widgetAdded.connect(((t,n)=>{n.revealed.then((()=>{var t;const l=e.shell.currentWidget,r=null===(t=n.content.model)||void 0===t?void 0:t.cells;if(void 0!==r)for(let e=0;e<r.length;e++){let t=null==r?void 0:r.get(e),n=t.metadata,i=null==n?void 0:n.activelearning;if(i){const e=l.content.widgets.find((e=>e.model===t));switch(e&&e.node.classList.add("activelearning"),i){case"mcq":e&&o(t,e.node);break;case"tab":e&&C(t,e.node);break;case"fib":e&&c(t,e.node);break;case"pp":e&&g(t,e.node)}}}}))}))}}}}]);