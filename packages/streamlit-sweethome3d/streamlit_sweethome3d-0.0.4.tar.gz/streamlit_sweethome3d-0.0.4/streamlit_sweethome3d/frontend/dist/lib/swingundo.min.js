/*
 * swingundo.min.js  version 7.2
 *
 * Copyright (c) 2015-2023 Emmanuel PUYBARET / eTeks <info@eteks.com>
 * 
 * Copyright (c) 1997, 2013, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the "Classpath" exception as provided
 * by Oracle in the LICENSE file that accompanied OpenJDK 8 source code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 */
/* Generated from Java with JSweet 2.0.0-rc1 - http://www.jsweet.org */
var __extends=(this&&this.__extends)||function(f,a){for(var e in a){if(a.hasOwnProperty(e)){f[e]=a[e]}}function c(){this.constructor=f}f.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c())};var javax;(function(a){var b;(function(d){var c;(function(f){var e=(function(){function g(i,h){this.myEdit=null;this.myEdit=h}g.prototype.getEdit=function(){return this.myEdit};return g}());f.UndoableEditEvent=e;e.__class="javax.swing.event.UndoableEditEvent";e.__interfaces=["java.io.Serializable"]})(c=d.event||(d.event={}))})(b=a.swing||(a.swing={}))})(javax||(javax={}));(function(a){var b;(function(d){var c;(function(e){var f=(function(){function g(){this.hasBeenDone=false;this.alive=false;this.hasBeenDone=true;this.alive=true}g.prototype.die=function(){this.alive=false};g.prototype.undo=function(){if(!this.canUndo()){throw new a.swing.undo.CannotUndoException()}this.hasBeenDone=false};g.prototype.canUndo=function(){return this.alive&&this.hasBeenDone};g.prototype.redo=function(){if(!this.canRedo()){throw new a.swing.undo.CannotRedoException()}this.hasBeenDone=true};g.prototype.canRedo=function(){return this.alive&&!this.hasBeenDone};g.prototype.addEdit=function(h){return false};g.prototype.replaceEdit=function(h){return false};g.prototype.isSignificant=function(){return true};g.prototype.getPresentationName=function(){return""};g.prototype.getUndoPresentationName=function(){return"Undo "+this.getPresentationName()};g.prototype.getRedoPresentationName=function(){return"Redo "+this.getPresentationName()};g.prototype.toString=function(){return(function(h){return h.__class?h.__class:h.name})(this.constructor)+" hasBeenDone: "+this.hasBeenDone+" alive: "+this.alive};return g}());f.UndoName="Undo";f.RedoName="Redo";e.AbstractUndoableEdit=f;f.__class="javax.swing.undo.AbstractUndoableEdit";f.__interfaces=["javax.swing.undo.UndoableEdit","java.io.Serializable"]})(c=d.undo||(d.undo={}))})(b=a.swing||(a.swing={}))})(javax||(javax={}));(function(a){var b;(function(d){var c;(function(e){var f=(function(h){__extends(g,h);function g(){return h.call(this)||this}return g}(Error));e.CannotRedoException=f;f.__class="javax.swing.undo.CannotRedoException";f.__interfaces=["java.io.Serializable"]})(c=d.undo||(d.undo={}))})(b=a.swing||(a.swing={}))})(javax||(javax={}));(function(a){var b;(function(d){var c;(function(e){var f=(function(h){__extends(g,h);function g(){return h.call(this)||this}return g}(Error));e.CannotUndoException=f;f.__class="javax.swing.undo.CannotUndoException";f.__interfaces=["java.io.Serializable"]})(c=d.undo||(d.undo={}))})(b=a.swing||(a.swing={}))})(javax||(javax={}));(function(a){var b;(function(d){var c;(function(e){var f;(function(g){g.RCSID="$Id: StateEditable.java,v 1.2 1997/09/08 19:39:08 marklin Exp $"})(f=e.StateEditable||(e.StateEditable={}))})(c=d.undo||(d.undo={}))})(b=a.swing||(a.swing={}))})(javax||(javax={}));(function(a){var b;(function(d){var c;(function(e){var f=(function(){function g(j){var l=this;if(((j!=null)||j===null)){var k=Array.prototype.slice.call(arguments);this.updateLevel=0;this.compoundEdit=null;this.listeners=null;this.realSource=null;this.updateLevel=0;this.compoundEdit=null;this.listeners=null;this.realSource=null;(function(){l.realSource=j==null?l:j;l.updateLevel=0;l.compoundEdit=null;l.listeners=([])})()}else{if(j===undefined){var k=Array.prototype.slice.call(arguments);var i=Array.prototype.slice.call(arguments);var h=null;this.updateLevel=0;this.compoundEdit=null;this.listeners=null;this.realSource=null;this.updateLevel=0;this.compoundEdit=null;this.listeners=null;this.realSource=null;(function(){l.realSource=h==null?l:h;l.updateLevel=0;l.compoundEdit=null;l.listeners=([])})()}else{throw new Error("invalid overload")}}}g.prototype.addUndoableEditListener=function(h){(this.listeners.push(h)>0)};g.prototype.removeUndoableEditListener=function(h){(function(i){return i.splice(i.indexOf(h),1)})(this.listeners)};g.prototype.getUndoableEditListeners=function(){return this.listeners.slice(0)};g.prototype._postEdit=function(i){var h=new a.swing.event.UndoableEditEvent(this.realSource,i);var j=(function(k){var l=0;return{nextElement:function(){return l<k.length?k[l++]:null},hasMoreElements:function(){return l<k.length}}})((function(l){if(l.clone!=undefined){return l.clone()}else{var m=Object.create(l);for(var k in l){if(l.hasOwnProperty(k)){m[k]=l[k]}}return m}})(this.listeners));while((j.hasMoreElements())){j.nextElement().undoableEditHappened(h)}};g.prototype.postEdit=function(h){if(this.updateLevel===0){this._postEdit(h)}else{this.compoundEdit.addEdit(h)}};g.prototype.getUpdateLevel=function(){return this.updateLevel};g.prototype.beginUpdate=function(){if(this.updateLevel===0){this.compoundEdit=this.createCompoundEdit()}this.updateLevel++};g.prototype.createCompoundEdit=function(){return new a.swing.undo.CompoundEdit()};g.prototype.endUpdate=function(){this.updateLevel--;if(this.updateLevel===0){this.compoundEdit.end();this._postEdit(this.compoundEdit);this.compoundEdit=null}};g.prototype.toString=function(){return(function(h){return h.__class?h.__class:h.name})(this.constructor)+" updateLevel: "+this.updateLevel+" listeners: "+(function(h){return h?"["+h.join(", ")+"]":"null"})(this.listeners)+" compoundEdit: "+this.compoundEdit};return g}());e.UndoableEditSupport=f;f.__class="javax.swing.undo.UndoableEditSupport"})(c=d.undo||(d.undo={}))})(b=a.swing||(a.swing={}))})(javax||(javax={}));(function(a){var b;(function(d){var c;(function(f){var e=(function(h){__extends(g,h);function g(){var i=h.call(this)||this;i.inProgress=false;i.edits=null;i.inProgress=true;i.edits=([]);return i}g.prototype.undo=function(){h.prototype.undo.call(this);var j=this.edits.length;while((j-->0)){var k=this.edits[j];k.undo()}};g.prototype.redo=function(){h.prototype.redo.call(this);var i=(function(j){var k=0;return{nextElement:function(){return k<j.length?j[k++]:null},hasMoreElements:function(){return k<j.length}}})(this.edits);while((i.hasMoreElements())){i.nextElement().redo()}};g.prototype.lastEdit=function(){var i=this.edits.length;if(i>0){return this.edits[i-1]}else{return null}};g.prototype.die=function(){var k=this.edits.length;for(var j=k-1;j>=0;j--){var l=this.edits[j];l.die()}h.prototype.die.call(this)};g.prototype.addEdit=function(j){if(!this.inProgress){return false}else{var i=this.lastEdit();if(i==null){(this.edits.push(j)>0)}else{if(!i.addEdit(j)){if(j.replaceEdit(i)){this.edits.splice(this.edits.length-1,1)}(this.edits.push(j)>0)}}return true}};g.prototype.end=function(){this.inProgress=false};g.prototype.canUndo=function(){return !this.isInProgress()&&h.prototype.canUndo.call(this)};g.prototype.canRedo=function(){return !this.isInProgress()&&h.prototype.canRedo.call(this)};g.prototype.isInProgress=function(){return this.inProgress};g.prototype.isSignificant=function(){var i=(function(j){var k=0;return{nextElement:function(){return k<j.length?j[k++]:null},hasMoreElements:function(){return k<j.length}}})(this.edits);while((i.hasMoreElements())){if(i.nextElement().isSignificant()){return true}}return false};g.prototype.getPresentationName=function(){var i=this.lastEdit();if(i!=null){return i.getPresentationName()}else{return h.prototype.getPresentationName.call(this)}};g.prototype.getUndoPresentationName=function(){var i=this.lastEdit();if(i!=null){return i.getUndoPresentationName()}else{return h.prototype.getUndoPresentationName.call(this)}};g.prototype.getRedoPresentationName=function(){var i=this.lastEdit();if(i!=null){return i.getRedoPresentationName()}else{return h.prototype.getRedoPresentationName.call(this)}};g.prototype.toString=function(){return h.prototype.toString.call(this)+" inProgress: "+this.inProgress+" edits: "+(function(i){return i?"["+i.join(", ")+"]":"null"})(this.edits)};return g}(a.swing.undo.AbstractUndoableEdit));f.CompoundEdit=e;e.__class="javax.swing.undo.CompoundEdit";e.__interfaces=["javax.swing.undo.UndoableEdit","java.io.Serializable"]})(c=d.undo||(d.undo={}))})(b=a.swing||(a.swing={}))})(javax||(javax={}));(function(a){var b;(function(d){var c;(function(e){var f=(function(g){__extends(h,g);function h(i,j){var l=this;if(((i!=null&&(i.__interfaces!=null&&i.__interfaces.indexOf("javax.swing.undo.StateEditable")>=0||i.constructor!=null&&i.constructor.__interfaces!=null&&i.constructor.__interfaces.indexOf("javax.swing.undo.StateEditable")>=0))||i===null)&&((typeof j==="string")||j===null)){var k=Array.prototype.slice.call(arguments);l=g.call(this)||this;l.object=null;l.preState=null;l.postState=null;l.undoRedoName=null;l.object=null;l.preState=null;l.postState=null;l.undoRedoName=null;(function(){l.init(i,j)})()}else{if(((i!=null&&(i.__interfaces!=null&&i.__interfaces.indexOf("javax.swing.undo.StateEditable")>=0||i.constructor!=null&&i.constructor.__interfaces!=null&&i.constructor.__interfaces.indexOf("javax.swing.undo.StateEditable")>=0))||i===null)&&j===undefined){var k=Array.prototype.slice.call(arguments);l=g.call(this)||this;l.object=null;l.preState=null;l.postState=null;l.undoRedoName=null;l.object=null;l.preState=null;l.postState=null;l.undoRedoName=null;(function(){l.init(i,null)})()}else{throw new Error("invalid overload")}}return l}h.prototype.init=function(i,j){this.object=i;this.preState=({});this.object.storeState(this.preState);this.postState=null;this.undoRedoName=j};h.prototype.end=function(){this.postState=({});this.object.storeState(this.postState);this.removeRedundantState()};h.prototype.undo=function(){g.prototype.undo.call(this);this.object.restoreState(this.preState)};h.prototype.redo=function(){g.prototype.redo.call(this);this.object.restoreState(this.postState)};h.prototype.getPresentationName=function(){return this.undoRedoName};h.prototype.removeRedundantState=function(){var m=([]);var l=this.preState.keys();while((l.hasMoreElements())){var k=l.nextElement();if((function(n,o){if(n.entries==null){n.entries=[]}for(var p=0;p<n.entries.length;p++){if(n.entries[p].key.equals!=null&&n.entries[p].key.equals(o)||n.entries[p].key===o){return true}}return false})(this.postState,k)&&(function(n,i){if(n&&n.equals){return n.equals(i)}else{return n===i}})((function(n,o){if(n.entries==null){n.entries=[]}for(var p=0;p<n.entries.length;p++){if(n.entries[p].key.equals!=null&&n.entries[p].key.equals(o)||n.entries[p].key===o){return n.entries[p].value}}return null})(this.postState,k),(function(n,o){if(n.entries==null){n.entries=[]}for(var p=0;p<n.entries.length;p++){if(n.entries[p].key.equals!=null&&n.entries[p].key.equals(o)||n.entries[p].key===o){return n.entries[p].value}}return null})(this.preState,k))){(m.push(k)>0)}}for(var j=m.length-1;j>=0;j--){var k=m[j];(function(i,n){if(i.entries==null){i.entries=[]}for(var o=0;o<i.entries.length;o++){if(i.entries[o].key.equals!=null&&i.entries[o].key.equals(n)||i.entries[o].key===n){return i.entries.splice(o,1)[0]}}})(this.preState,k);(function(i,n){if(i.entries==null){i.entries=[]}for(var o=0;o<i.entries.length;o++){if(i.entries[o].key.equals!=null&&i.entries[o].key.equals(n)||i.entries[o].key===n){return i.entries.splice(o,1)[0]}}})(this.postState,k)}};return h}(a.swing.undo.AbstractUndoableEdit));f.RCSID="$Id: StateEdit.java,v 1.6 1997/10/01 20:05:51 sandipc Exp $";e.StateEdit=f;f.__class="javax.swing.undo.StateEdit";f.__interfaces=["javax.swing.undo.UndoableEdit","java.io.Serializable"]})(c=d.undo||(d.undo={}))})(b=a.swing||(a.swing={}))})(javax||(javax={}));(function(a){var b;(function(d){var c;(function(e){var f=(function(g){__extends(h,g);function h(){var i=g.call(this)||this;i.indexOfNextAdd=0;i.limit=0;i.indexOfNextAdd=0;i.limit=100;return i}h.prototype.getLimit=function(){return this.limit};h.prototype.discardAllEdits=function(){for(var j=0;j<this.edits.length;j++){var i=this.edits[j];i.die()}this.edits=([]);this.indexOfNextAdd=0};h.prototype.trimForLimit=function(){if(this.limit>=0){var j=this.edits.length;if(j>this.limit){var k=(this.limit/2|0);var m=this.indexOfNextAdd-1-k;var i=this.indexOfNextAdd-1+k;if(i-m+1>this.limit){m++}if(m<0){i-=m;m=0}if(i>=j){var l=j-i-1;i+=l;m+=l}this.trimEdits(i+1,j-1);this.trimEdits(0,m-1)}}};h.prototype.trimEdits=function(m,l){if(m<=l){for(var j=l;m<=j;j--){var k=this.edits[j];k.die();this.edits.splice(j,1)}if(this.indexOfNextAdd>l){this.indexOfNextAdd-=l-m+1}else{if(this.indexOfNextAdd>=m){this.indexOfNextAdd=m}}}};h.prototype.setLimit=function(i){if(!this.inProgress){throw Object.defineProperty(new Error("Attempt to call UndoManager.setLimit() after UndoManager.end() has been called"),"__classes",{configurable:true,value:["java.lang.Throwable","java.lang.Object","java.lang.RuntimeException","java.lang.Exception"]})}this.limit=i;this.trimForLimit()};h.prototype.editToBeUndone=function(){var j=this.indexOfNextAdd;while((j>0)){var k=this.edits[--j];if(k.isSignificant()){return k}}return null};h.prototype.editToBeRedone=function(){var l=this.edits.length;var j=this.indexOfNextAdd;while((j<l)){var k=this.edits[j++];if(k.isSignificant()){return k}}return null};h.prototype.undoTo=function(k){var i=false;while((!i)){var j=this.edits[--this.indexOfNextAdd];j.undo();i=j===k}};h.prototype.redoTo=function(k){var i=false;while((!i)){var j=this.edits[this.indexOfNextAdd++];j.redo();i=j===k}};h.prototype.undoOrRedo=function(){if(this.indexOfNextAdd===this.edits.length){this.undo()}else{this.redo()}};h.prototype.canUndoOrRedo=function(){if(this.indexOfNextAdd===this.edits.length){return this.canUndo()}else{return this.canRedo()}};h.prototype.undo=function(){if(this.inProgress){var i=this.editToBeUndone();if(i==null){throw new a.swing.undo.CannotUndoException()}this.undoTo(i)}else{g.prototype.undo.call(this)}};h.prototype.canUndo=function(){if(this.inProgress){var i=this.editToBeUndone();return i!=null&&i.canUndo()}else{return g.prototype.canUndo.call(this)}};h.prototype.redo=function(){if(this.inProgress){var i=this.editToBeRedone();if(i==null){throw new a.swing.undo.CannotRedoException()}this.redoTo(i)}else{g.prototype.redo.call(this)}};h.prototype.canRedo=function(){if(this.inProgress){var i=this.editToBeRedone();return i!=null&&i.canRedo()}else{return g.prototype.canRedo.call(this)}};h.prototype.addEdit=function(i){var j;this.trimEdits(this.indexOfNextAdd,this.edits.length-1);j=g.prototype.addEdit.call(this,i);if(this.inProgress){j=true}this.indexOfNextAdd=this.edits.length;this.trimForLimit();return j};h.prototype.end=function(){g.prototype.end.call(this);this.trimEdits(this.indexOfNextAdd,this.edits.length-1)};h.prototype.getUndoOrRedoPresentationName=function(){if(this.indexOfNextAdd===this.edits.length){return this.getUndoPresentationName()}else{return this.getRedoPresentationName()}};h.prototype.getUndoPresentationName=function(){if(this.inProgress){if(this.canUndo()){return this.editToBeUndone().getUndoPresentationName()}else{return"Undo"}}else{return g.prototype.getUndoPresentationName.call(this)}};h.prototype.getRedoPresentationName=function(){if(this.inProgress){if(this.canRedo()){return this.editToBeRedone().getRedoPresentationName()}else{return"Redo"}}else{return g.prototype.getRedoPresentationName.call(this)}};h.prototype.undoableEditHappened=function(i){this.addEdit(i.getEdit())};h.prototype.toString=function(){return g.prototype.toString.call(this)+" limit: "+this.limit+" indexOfNextAdd: "+this.indexOfNextAdd};return h}(a.swing.undo.CompoundEdit));e.UndoManager=f;f.__class="javax.swing.undo.UndoManager";f.__interfaces=["java.util.EventListener","javax.swing.event.UndoableEditListener","javax.swing.undo.UndoableEdit","java.io.Serializable"]})(c=d.undo||(d.undo={}))})(b=a.swing||(a.swing={}))})(javax||(javax={}));