{"ast":null,"code":"import _toConsumableArray from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,Checkbox,FormControl,FormControlLabel,FormHelperText,Radio,RadioGroup}from'@mui/material';import Alert from'@mui/material/Alert';import AlertTitle from'@mui/material/AlertTitle';import Button from'@mui/material/Button';import TextField from'@mui/material/TextField';import React,{useContext,useEffect,useState}from'react';import{ApiContext}from'../../components/apiContext';import ErrorMessageSnackBar from'../../components/errorMessageSnackBar';import Title from'../../components/Title';import{useMode}from'../../theme';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SUPPORTED_LANGUAGES_DICT={en:'English',zh:'Chinese'};var SUPPORTED_FEATURES=['Generate','Chat'];// Convert dictionary of supported languages into list\nvar SUPPORTED_LANGUAGES=Object.keys(SUPPORTED_LANGUAGES_DICT);var RegisterModel=function RegisterModel(){var ERROR_COLOR=useMode();var endPoint=useContext(ApiContext).endPoint;var _useContext=useContext(ApiContext),setErrorMsg=_useContext.setErrorMsg;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),successMsg=_useState2[0],setSuccessMsg=_useState2[1];var _useState3=useState('pytorch'),_useState4=_slicedToArray(_useState3,2),modelFormat=_useState4[0],setModelFormat=_useState4[1];var _useState5=useState(7),_useState6=_slicedToArray(_useState5,2),modelSize=_useState6[0],setModelSize=_useState6[1];var _useState7=useState('/path/to/llama-2'),_useState8=_slicedToArray(_useState7,2),modelUri=_useState8[0],setModelUri=_useState8[1];var _useState9=useState({version:1,context_length:2048,model_name:'custom-llama-2',model_lang:['en'],model_ability:['generate'],model_description:'This is a custom model description.',model_specs:[],prompt_style:undefined}),_useState10=_slicedToArray(_useState9,2),formData=_useState10[0],setFormData=_useState10[1];var _useState11=useState('vicuna'),_useState12=_slicedToArray(_useState11,2),promptStyleLabel=_useState12[0],setPromptStyleLabel=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),promptStyles=_useState14[0],setPromptStyles=_useState14[1];// model name must be\n// 1. Starts with an alphanumeric character (a letter or a digit).\n// 2. Followed by any number of alphanumeric characters, underscores (_), or hyphens (-).\nvar errorModelName=!/^[A-Za-z0-9][A-Za-z0-9_-]*$/.test(formData.model_name);var errorModelDescription=!/^[A-Za-z0-9\\s!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~]{0,500}$/.test(formData.model_description);var errorContextLength=formData.context_length===0;var errorLanguage=formData.model_lang===undefined||formData.model_lang.length===0;var errorAbility=formData.model_ability===undefined||formData.model_ability.length===0;var errorModelSize=formData.model_specs&&formData.model_specs.some(function(spec){return spec.model_size_in_billions===undefined||spec.model_size_in_billions===0;});var errorAny=errorModelName||errorModelDescription||errorContextLength||errorLanguage||errorAbility||errorModelSize;useEffect(function(){var getBuiltInPromptStyles=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,errorData,data,res,key,v;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(endPoint+'/v1/models/prompts',{method:'GET',headers:{'Content-Type':'application/json'}});case 2:response=_context.sent;if(response.ok){_context.next=10;break;}_context.next=6;return response.json();case 6:errorData=_context.sent;// Assuming the server returns error details in JSON format\nsetErrorMsg(\"Server error: \".concat(response.status,\" - \").concat(errorData.detail||'Unknown error'));_context.next=16;break;case 10:_context.next=12;return response.json();case 12:data=_context.sent;res=[];for(key in data){v=data[key];v['name']=key;res.push(v);}setPromptStyles(res);case 16:case\"end\":return _context.stop();}},_callee);}));return function getBuiltInPromptStyles(){return _ref.apply(this,arguments);};}();// avoid keep requesting backend to get prompts\nif(promptStyles.length===0){getBuiltInPromptStyles().catch(function(error){setErrorMsg(error.message||'An unexpected error occurred when getting builtin prompt styles.');console.error('Error: ',error);});}});var isModelFormatPytorch=function isModelFormatPytorch(){return modelFormat==='pytorch';};var getPathComponents=function getPathComponents(path){var normalizedPath=path.replace(/\\\\/g,'/');var baseDir=normalizedPath.substring(0,normalizedPath.lastIndexOf('/'));var filename=normalizedPath.substring(normalizedPath.lastIndexOf('/')+1);return{baseDir:baseDir,filename:filename};};var handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _getPathComponents,baseDir,filename,ps,_ps$stop,_ps$stop_token_ids,response,errorData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!isModelFormatPytorch()){_getPathComponents=getPathComponents(modelUri),baseDir=_getPathComponents.baseDir,filename=_getPathComponents.filename;formData.model_specs=[{model_format:modelFormat,model_size_in_billions:modelSize,quantizations:[''],model_id:'',model_file_name_template:filename,model_uri:baseDir}];}else{formData.model_specs=[{model_format:modelFormat,model_size_in_billions:modelSize,quantizations:['4-bit','8-bit','none'],model_id:'',model_uri:modelUri}];}if(formData.model_ability.includes('chat')){ps=promptStyles.find(function(item){return item.name===promptStyleLabel;});if(ps){formData.prompt_style={style_name:ps.style_name,system_prompt:ps.system_prompt,roles:ps.roles,intra_message_sep:ps.intra_message_sep,inter_message_sep:ps.inter_message_sep,stop:(_ps$stop=ps.stop)!==null&&_ps$stop!==void 0?_ps$stop:null,stop_token_ids:(_ps$stop_token_ids=ps.stop_token_ids)!==null&&_ps$stop_token_ids!==void 0?_ps$stop_token_ids:null};}}if(!errorAny){_context2.next=5;break;}setErrorMsg('Please fill in valid value for all fields');return _context2.abrupt(\"return\");case 5:_context2.prev=5;_context2.next=8;return fetch(endPoint+'/v1/model_registrations/LLM',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({model:JSON.stringify(formData),persist:true})});case 8:response=_context2.sent;if(response.ok){_context2.next=16;break;}_context2.next=12;return response.json();case 12:errorData=_context2.sent;// Assuming the server returns error details in JSON format\nsetErrorMsg(\"Server error: \".concat(response.status,\" - \").concat(errorData.detail||'Unknown error'));_context2.next=17;break;case 16:setSuccessMsg('Model has been registered successfully! Navigate to launch model page to proceed.');case 17:_context2.next=23;break;case 19:_context2.prev=19;_context2.t0=_context2[\"catch\"](5);console.error('There was a problem with the fetch operation:',_context2.t0);setErrorMsg(_context2.t0.message||'An unexpected error occurred.');case 23:case\"end\":return _context2.stop();}},_callee2,null,[[5,19]]);}));return function handleClick(){return _ref2.apply(this,arguments);};}();var toggleLanguage=function toggleLanguage(lang){if(formData.model_lang.includes(lang)){setFormData(_objectSpread(_objectSpread({},formData),{},{model_lang:formData.model_lang.filter(function(l){return l!==lang;})}));}else{setFormData(_objectSpread(_objectSpread({},formData),{},{model_lang:[].concat(_toConsumableArray(formData.model_lang),[lang])}));}};var toggleAbility=function toggleAbility(ability){if(formData.model_ability.includes(ability)){setFormData(_objectSpread(_objectSpread({},formData),{},{model_ability:formData.model_ability.filter(function(a){return a!==ability;})}));}else{setFormData(_objectSpread(_objectSpread({},formData),{},{model_ability:[].concat(_toConsumableArray(formData.model_ability),[ability])}));}};return/*#__PURE__*/_jsxs(Box,{m:\"20px\",children:[/*#__PURE__*/_jsx(Title,{title:\"Register Model\"}),/*#__PURE__*/_jsx(ErrorMessageSnackBar,{}),/*#__PURE__*/_jsx(Box,{padding:\"20px\"}),/*#__PURE__*/_jsxs(FormControl,{sx:styles.baseFormControl,children:[/*#__PURE__*/_jsx(TextField,{label:\"Model Name\",error:errorModelName,defaultValue:formData.model_name,size:\"small\",helperText:\"Alphanumeric characters with properly placed hyphens and underscores. Must not match any built-in model names.\",onChange:function onChange(event){return setFormData(_objectSpread(_objectSpread({},formData),{},{model_name:event.target.value}));}}),/*#__PURE__*/_jsx(Box,{padding:\"15px\"}),/*#__PURE__*/_jsx(\"label\",{style:{paddingLeft:5},children:\"Model Format\"}),/*#__PURE__*/_jsx(RadioGroup,{value:modelFormat,onChange:function onChange(e){setModelFormat(e.target.value);},children:/*#__PURE__*/_jsxs(Box,{sx:styles.checkboxWrapper,children:[/*#__PURE__*/_jsx(Box,{sx:{marginLeft:'10px'},children:/*#__PURE__*/_jsx(FormControlLabel,{value:\"pytorch\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"PyTorch\"})}),/*#__PURE__*/_jsx(Box,{sx:{marginLeft:'10px'},children:/*#__PURE__*/_jsx(FormControlLabel,{value:\"ggmlv3\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"GGML\"})}),/*#__PURE__*/_jsx(Box,{sx:{marginLeft:'10px'},children:/*#__PURE__*/_jsx(FormControlLabel,{value:\"ggufv2\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"GGUF\"})})]})}),/*#__PURE__*/_jsx(Box,{padding:\"15px\"}),/*#__PURE__*/_jsx(TextField,{error:errorContextLength,label:\"Context Length\",value:formData.context_length,size:\"small\",onChange:function onChange(event){var value=event.target.value;// Remove leading zeros\nif(/^0+/.test(value)){value=value.replace(/^0+/,'')||'0';}// Ensure it's a positive integer, if not set it to the minimum\nif(!/^\\d+$/.test(value)||parseInt(value)<0){value='0';}// Update with the processed value\nsetFormData(_objectSpread(_objectSpread({},formData),{},{context_length:Number(value)}));}}),/*#__PURE__*/_jsx(Box,{padding:\"15px\"}),/*#__PURE__*/_jsx(TextField,{label:\"Model Size in Billions\",size:\"small\",error:errorModelSize,value:modelSize,onChange:function onChange(e){var value=e.target.value;// Remove leading zeros\nif(/^0+/.test(value)){value=value.replace(/^0+/,'')||'0';}// Ensure it's a positive integer, if not set it to the minimum\nif(!/^\\d+$/.test(value)||parseInt(value)<0){value='0';}setModelSize(Number(value));}}),/*#__PURE__*/_jsx(Box,{padding:\"15px\"}),/*#__PURE__*/_jsx(TextField,{label:\"Model Path\",size:\"small\",value:modelUri,onChange:function onChange(e){setModelUri(e.target.value);},helperText:\"For PyTorch, provide the model directory. For GGML/GGUF, provide the model file path.\"}),/*#__PURE__*/_jsx(Box,{padding:\"15px\"}),/*#__PURE__*/_jsx(TextField,{label:\"Model Description (Optional)\",error:errorModelDescription,defaultValue:formData.model_description,size:\"small\",onChange:function onChange(event){return setFormData(_objectSpread(_objectSpread({},formData),{},{model_description:event.target.value}));}}),/*#__PURE__*/_jsx(Box,{padding:\"15px\"}),/*#__PURE__*/_jsx(\"label\",{style:{paddingLeft:5,color:errorLanguage?ERROR_COLOR:'inherit'},children:\"Model Languages\"}),/*#__PURE__*/_jsx(Box,{sx:styles.checkboxWrapper,children:SUPPORTED_LANGUAGES.map(function(lang){return/*#__PURE__*/_jsx(Box,{sx:{marginRight:'10px'},children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:formData.model_lang.includes(lang),onChange:function onChange(){return toggleLanguage(lang);},name:lang,sx:errorLanguage?{'color':ERROR_COLOR,'&.Mui-checked':{color:ERROR_COLOR}}:{}}),label:SUPPORTED_LANGUAGES_DICT[lang],style:{paddingLeft:10,color:errorLanguage?ERROR_COLOR:'inherit'}})},lang);})}),/*#__PURE__*/_jsx(Box,{padding:\"15px\"}),/*#__PURE__*/_jsx(\"label\",{style:{paddingLeft:5,color:errorAbility?ERROR_COLOR:'inherit'},children:\"Model Abilities\"}),/*#__PURE__*/_jsx(Box,{sx:styles.checkboxWrapper,children:SUPPORTED_FEATURES.map(function(ability){return/*#__PURE__*/_jsx(Box,{sx:{marginRight:'10px'},children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:formData.model_ability.includes(ability.toLowerCase()),onChange:function onChange(){return toggleAbility(ability.toLowerCase());},name:ability,sx:errorAbility?{'color':ERROR_COLOR,'&.Mui-checked':{color:ERROR_COLOR}}:{}}),label:ability,style:{paddingLeft:10,color:errorAbility?ERROR_COLOR:'inherit'}})},ability);})}),/*#__PURE__*/_jsx(Box,{padding:\"15px\"})]}),formData.model_ability.includes('chat')&&/*#__PURE__*/_jsxs(FormControl,{sx:styles.baseFormControl,children:[/*#__PURE__*/_jsx(\"label\",{style:{paddingLeft:5,color:errorAbility?ERROR_COLOR:'inherit'},children:\"Prompt styles\"}),/*#__PURE__*/_jsx(FormHelperText,{children:\"Select a prompt style that aligns with the training data of your model.\"}),/*#__PURE__*/_jsx(RadioGroup,{value:promptStyleLabel,onChange:function onChange(e){setPromptStyleLabel(e.target.value);},children:/*#__PURE__*/_jsx(Box,{sx:styles.checkboxWrapper,children:promptStyles.map(function(p){return/*#__PURE__*/_jsx(Box,{sx:{marginLeft:'10px'},children:/*#__PURE__*/_jsx(FormControlLabel,{value:p.name,control:/*#__PURE__*/_jsx(Radio,{}),label:p.name})});})})})]}),/*#__PURE__*/_jsxs(Box,{width:'100%',children:[successMsg!==''&&/*#__PURE__*/_jsxs(Alert,{severity:\"success\",children:[/*#__PURE__*/_jsx(AlertTitle,{children:\"Success\"}),successMsg]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",type:\"submit\",onClick:handleClick,children:\"Register Model\"})]})]});};export default RegisterModel;var styles={baseFormControl:{width:'100%',margin:'normal',size:'small'},checkboxWrapper:{display:'flex',flexWrap:'wrap',maxWidth:'80%'},labelPaddingLeft:{paddingLeft:5},formControlLabelPaddingLeft:{paddingLeft:10},buttonBox:{width:'100%',margin:'20px'},error:{fontWeight:'bold',margin:'5px 0',padding:'1px',borderRadius:'5px'}};","map":{"version":3,"names":["Box","Checkbox","FormControl","FormControlLabel","FormHelperText","Radio","RadioGroup","Alert","AlertTitle","Button","TextField","React","useContext","useEffect","useState","ApiContext","ErrorMessageSnackBar","Title","useMode","jsx","_jsx","jsxs","_jsxs","SUPPORTED_LANGUAGES_DICT","en","zh","SUPPORTED_FEATURES","SUPPORTED_LANGUAGES","Object","keys","RegisterModel","ERROR_COLOR","endPoint","_useContext","setErrorMsg","_useState","_useState2","_slicedToArray","successMsg","setSuccessMsg","_useState3","_useState4","modelFormat","setModelFormat","_useState5","_useState6","modelSize","setModelSize","_useState7","_useState8","modelUri","setModelUri","_useState9","version","context_length","model_name","model_lang","model_ability","model_description","model_specs","prompt_style","undefined","_useState10","formData","setFormData","_useState11","_useState12","promptStyleLabel","setPromptStyleLabel","_useState13","_useState14","promptStyles","setPromptStyles","errorModelName","test","errorModelDescription","errorContextLength","errorLanguage","length","errorAbility","errorModelSize","some","spec","model_size_in_billions","errorAny","getBuiltInPromptStyles","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","errorData","data","res","key","v","wrap","_callee$","_context","prev","next","fetch","method","headers","sent","ok","json","concat","status","detail","push","stop","apply","arguments","catch","error","message","console","isModelFormatPytorch","getPathComponents","path","normalizedPath","replace","baseDir","substring","lastIndexOf","filename","handleClick","_ref2","_callee2","_getPathComponents","ps","_ps$stop","_ps$stop_token_ids","_callee2$","_context2","model_format","quantizations","model_id","model_file_name_template","model_uri","includes","find","item","name","style_name","system_prompt","roles","intra_message_sep","inter_message_sep","stop_token_ids","abrupt","body","JSON","stringify","model","persist","t0","toggleLanguage","lang","_objectSpread","filter","l","_toConsumableArray","toggleAbility","ability","a","m","children","title","padding","sx","styles","baseFormControl","label","defaultValue","size","helperText","onChange","event","target","value","style","paddingLeft","e","checkboxWrapper","marginLeft","control","parseInt","Number","color","map","marginRight","checked","toLowerCase","p","width","severity","variant","type","onClick","margin","display","flexWrap","maxWidth","labelPaddingLeft","formControlLabelPaddingLeft","buttonBox","fontWeight","borderRadius"],"sources":["/home/runner/work/inference/inference/xinference/web/ui/src/scenes/register_model/index.js"],"sourcesContent":["import {\n  Box,\n  Checkbox,\n  FormControl,\n  FormControlLabel,\n  FormHelperText,\n  Radio,\n  RadioGroup,\n} from '@mui/material'\nimport Alert from '@mui/material/Alert'\nimport AlertTitle from '@mui/material/AlertTitle'\nimport Button from '@mui/material/Button'\nimport TextField from '@mui/material/TextField'\nimport React, { useContext, useEffect, useState } from 'react'\n\nimport { ApiContext } from '../../components/apiContext'\nimport ErrorMessageSnackBar from '../../components/errorMessageSnackBar'\nimport Title from '../../components/Title'\nimport { useMode } from '../../theme'\n\nconst SUPPORTED_LANGUAGES_DICT = { en: 'English', zh: 'Chinese' }\nconst SUPPORTED_FEATURES = ['Generate', 'Chat']\n\n// Convert dictionary of supported languages into list\nconst SUPPORTED_LANGUAGES = Object.keys(SUPPORTED_LANGUAGES_DICT)\n\nconst RegisterModel = () => {\n  const ERROR_COLOR = useMode()\n  const endPoint = useContext(ApiContext).endPoint\n  const { setErrorMsg } = useContext(ApiContext)\n  const [successMsg, setSuccessMsg] = useState('')\n  const [modelFormat, setModelFormat] = useState('pytorch')\n  const [modelSize, setModelSize] = useState(7)\n  const [modelUri, setModelUri] = useState('/path/to/llama-2')\n  const [formData, setFormData] = useState({\n    version: 1,\n    context_length: 2048,\n    model_name: 'custom-llama-2',\n    model_lang: ['en'],\n    model_ability: ['generate'],\n    model_description: 'This is a custom model description.',\n    model_specs: [],\n    prompt_style: undefined,\n  })\n  const [promptStyleLabel, setPromptStyleLabel] = useState('vicuna')\n  const [promptStyles, setPromptStyles] = useState([])\n\n  // model name must be\n  // 1. Starts with an alphanumeric character (a letter or a digit).\n  // 2. Followed by any number of alphanumeric characters, underscores (_), or hyphens (-).\n  const errorModelName = !/^[A-Za-z0-9][A-Za-z0-9_-]*$/.test(\n    formData.model_name\n  )\n  const errorModelDescription =\n    !/^[A-Za-z0-9\\s!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~]{0,500}$/.test(\n      formData.model_description\n    )\n  const errorContextLength = formData.context_length === 0\n  const errorLanguage =\n    formData.model_lang === undefined || formData.model_lang.length === 0\n  const errorAbility =\n    formData.model_ability === undefined || formData.model_ability.length === 0\n  const errorModelSize =\n    formData.model_specs &&\n    formData.model_specs.some((spec) => {\n      return (\n        spec.model_size_in_billions === undefined ||\n        spec.model_size_in_billions === 0\n      )\n    })\n  const errorAny =\n    errorModelName ||\n    errorModelDescription ||\n    errorContextLength ||\n    errorLanguage ||\n    errorAbility ||\n    errorModelSize\n\n  useEffect(() => {\n    const getBuiltInPromptStyles = async () => {\n      const response = await fetch(endPoint + '/v1/models/prompts', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      })\n      if (!response.ok) {\n        const errorData = await response.json() // Assuming the server returns error details in JSON format\n        setErrorMsg(\n          `Server error: ${response.status} - ${\n            errorData.detail || 'Unknown error'\n          }`\n        )\n      } else {\n        const data = await response.json()\n        let res = []\n        for (const key in data) {\n          let v = data[key]\n          v['name'] = key\n          res.push(v)\n        }\n        setPromptStyles(res)\n      }\n    }\n    // avoid keep requesting backend to get prompts\n    if (promptStyles.length === 0) {\n      getBuiltInPromptStyles().catch((error) => {\n        setErrorMsg(\n          error.message ||\n            'An unexpected error occurred when getting builtin prompt styles.'\n        )\n        console.error('Error: ', error)\n      })\n    }\n  })\n\n  const isModelFormatPytorch = () => {\n    return modelFormat === 'pytorch'\n  }\n\n  const getPathComponents = (path) => {\n    const normalizedPath = path.replace(/\\\\/g, '/')\n    const baseDir = normalizedPath.substring(0, normalizedPath.lastIndexOf('/'))\n    const filename = normalizedPath.substring(\n      normalizedPath.lastIndexOf('/') + 1\n    )\n    return { baseDir, filename }\n  }\n\n  const handleClick = async () => {\n    if (!isModelFormatPytorch()) {\n      const { baseDir, filename } = getPathComponents(modelUri)\n      formData.model_specs = [\n        {\n          model_format: modelFormat,\n          model_size_in_billions: modelSize,\n          quantizations: [''],\n          model_id: '',\n          model_file_name_template: filename,\n          model_uri: baseDir,\n        },\n      ]\n    } else {\n      formData.model_specs = [\n        {\n          model_format: modelFormat,\n          model_size_in_billions: modelSize,\n          quantizations: ['4-bit', '8-bit', 'none'],\n          model_id: '',\n          model_uri: modelUri,\n        },\n      ]\n    }\n\n    if (formData.model_ability.includes('chat')) {\n      const ps = promptStyles.find((item) => item.name === promptStyleLabel)\n      if (ps) {\n        formData.prompt_style = {\n          style_name: ps.style_name,\n          system_prompt: ps.system_prompt,\n          roles: ps.roles,\n          intra_message_sep: ps.intra_message_sep,\n          inter_message_sep: ps.inter_message_sep,\n          stop: ps.stop ?? null,\n          stop_token_ids: ps.stop_token_ids ?? null,\n        }\n      }\n    }\n\n    if (errorAny) {\n      setErrorMsg('Please fill in valid value for all fields')\n      return\n    }\n\n    try {\n      const response = await fetch(endPoint + '/v1/model_registrations/LLM', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          model: JSON.stringify(formData),\n          persist: true,\n        }),\n      })\n      if (!response.ok) {\n        const errorData = await response.json() // Assuming the server returns error details in JSON format\n        setErrorMsg(\n          `Server error: ${response.status} - ${\n            errorData.detail || 'Unknown error'\n          }`\n        )\n      } else {\n        setSuccessMsg(\n          'Model has been registered successfully! Navigate to launch model page to proceed.'\n        )\n      }\n    } catch (error) {\n      console.error('There was a problem with the fetch operation:', error)\n      setErrorMsg(error.message || 'An unexpected error occurred.')\n    }\n  }\n\n  const toggleLanguage = (lang) => {\n    if (formData.model_lang.includes(lang)) {\n      setFormData({\n        ...formData,\n        model_lang: formData.model_lang.filter((l) => l !== lang),\n      })\n    } else {\n      setFormData({\n        ...formData,\n        model_lang: [...formData.model_lang, lang],\n      })\n    }\n  }\n\n  const toggleAbility = (ability) => {\n    if (formData.model_ability.includes(ability)) {\n      setFormData({\n        ...formData,\n        model_ability: formData.model_ability.filter((a) => a !== ability),\n      })\n    } else {\n      setFormData({\n        ...formData,\n        model_ability: [...formData.model_ability, ability],\n      })\n    }\n  }\n\n  return (\n    <Box m=\"20px\">\n      <Title title=\"Register Model\" />\n      <ErrorMessageSnackBar />\n      <Box padding=\"20px\"></Box>\n\n      {/* Base Information */}\n      <FormControl sx={styles.baseFormControl}>\n        <TextField\n          label=\"Model Name\"\n          error={errorModelName}\n          defaultValue={formData.model_name}\n          size=\"small\"\n          helperText=\"Alphanumeric characters with properly placed hyphens and underscores. Must not match any built-in model names.\"\n          onChange={(event) =>\n            setFormData({ ...formData, model_name: event.target.value })\n          }\n        />\n        <Box padding=\"15px\"></Box>\n\n        <label\n          style={{\n            paddingLeft: 5,\n          }}\n        >\n          Model Format\n        </label>\n\n        <RadioGroup\n          value={modelFormat}\n          onChange={(e) => {\n            setModelFormat(e.target.value)\n          }}\n        >\n          <Box sx={styles.checkboxWrapper}>\n            <Box sx={{ marginLeft: '10px' }}>\n              <FormControlLabel\n                value=\"pytorch\"\n                control={<Radio />}\n                label=\"PyTorch\"\n              />\n            </Box>\n            <Box sx={{ marginLeft: '10px' }}>\n              <FormControlLabel\n                value=\"ggmlv3\"\n                control={<Radio />}\n                label=\"GGML\"\n              />\n            </Box>\n            <Box sx={{ marginLeft: '10px' }}>\n              <FormControlLabel\n                value=\"ggufv2\"\n                control={<Radio />}\n                label=\"GGUF\"\n              />\n            </Box>\n          </Box>\n        </RadioGroup>\n        <Box padding=\"15px\"></Box>\n\n        <TextField\n          error={errorContextLength}\n          label=\"Context Length\"\n          value={formData.context_length}\n          size=\"small\"\n          onChange={(event) => {\n            let value = event.target.value\n            // Remove leading zeros\n            if (/^0+/.test(value)) {\n              value = value.replace(/^0+/, '') || '0'\n            }\n            // Ensure it's a positive integer, if not set it to the minimum\n            if (!/^\\d+$/.test(value) || parseInt(value) < 0) {\n              value = '0'\n            }\n            // Update with the processed value\n            setFormData({\n              ...formData,\n              context_length: Number(value),\n            })\n          }}\n        />\n        <Box padding=\"15px\"></Box>\n\n        <TextField\n          label=\"Model Size in Billions\"\n          size=\"small\"\n          error={errorModelSize}\n          value={modelSize}\n          onChange={(e) => {\n            let value = e.target.value\n            // Remove leading zeros\n            if (/^0+/.test(value)) {\n              value = value.replace(/^0+/, '') || '0'\n            }\n            // Ensure it's a positive integer, if not set it to the minimum\n            if (!/^\\d+$/.test(value) || parseInt(value) < 0) {\n              value = '0'\n            }\n            setModelSize(Number(value))\n          }}\n        />\n        <Box padding=\"15px\"></Box>\n\n        <TextField\n          label=\"Model Path\"\n          size=\"small\"\n          value={modelUri}\n          onChange={(e) => {\n            setModelUri(e.target.value)\n          }}\n          helperText=\"For PyTorch, provide the model directory. For GGML/GGUF, provide the model file path.\"\n        />\n        <Box padding=\"15px\"></Box>\n\n        <TextField\n          label=\"Model Description (Optional)\"\n          error={errorModelDescription}\n          defaultValue={formData.model_description}\n          size=\"small\"\n          onChange={(event) =>\n            setFormData({ ...formData, model_description: event.target.value })\n          }\n        />\n        <Box padding=\"15px\"></Box>\n\n        <label\n          style={{\n            paddingLeft: 5,\n            color: errorLanguage ? ERROR_COLOR : 'inherit',\n          }}\n        >\n          Model Languages\n        </label>\n        <Box sx={styles.checkboxWrapper}>\n          {SUPPORTED_LANGUAGES.map((lang) => (\n            <Box key={lang} sx={{ marginRight: '10px' }}>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={formData.model_lang.includes(lang)}\n                    onChange={() => toggleLanguage(lang)}\n                    name={lang}\n                    sx={\n                      errorLanguage\n                        ? {\n                            'color': ERROR_COLOR,\n                            '&.Mui-checked': {\n                              color: ERROR_COLOR,\n                            },\n                          }\n                        : {}\n                    }\n                  />\n                }\n                label={SUPPORTED_LANGUAGES_DICT[lang]}\n                style={{\n                  paddingLeft: 10,\n                  color: errorLanguage ? ERROR_COLOR : 'inherit',\n                }}\n              />\n            </Box>\n          ))}\n        </Box>\n        <Box padding=\"15px\"></Box>\n\n        <label\n          style={{\n            paddingLeft: 5,\n            color: errorAbility ? ERROR_COLOR : 'inherit',\n          }}\n        >\n          Model Abilities\n        </label>\n        <Box sx={styles.checkboxWrapper}>\n          {SUPPORTED_FEATURES.map((ability) => (\n            <Box key={ability} sx={{ marginRight: '10px' }}>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    checked={formData.model_ability.includes(\n                      ability.toLowerCase()\n                    )}\n                    onChange={() => toggleAbility(ability.toLowerCase())}\n                    name={ability}\n                    sx={\n                      errorAbility\n                        ? {\n                            'color': ERROR_COLOR,\n                            '&.Mui-checked': {\n                              color: ERROR_COLOR,\n                            },\n                          }\n                        : {}\n                    }\n                  />\n                }\n                label={ability}\n                style={{\n                  paddingLeft: 10,\n                  color: errorAbility ? ERROR_COLOR : 'inherit',\n                }}\n              />\n            </Box>\n          ))}\n        </Box>\n        <Box padding=\"15px\"></Box>\n      </FormControl>\n\n      {formData.model_ability.includes('chat') && (\n        <FormControl sx={styles.baseFormControl}>\n          <label\n            style={{\n              paddingLeft: 5,\n              color: errorAbility ? ERROR_COLOR : 'inherit',\n            }}\n          >\n            Prompt styles\n          </label>\n          <FormHelperText>\n            Select a prompt style that aligns with the training data of your\n            model.\n          </FormHelperText>\n          <RadioGroup\n            value={promptStyleLabel}\n            onChange={(e) => {\n              setPromptStyleLabel(e.target.value)\n            }}\n          >\n            <Box sx={styles.checkboxWrapper}>\n              {promptStyles.map((p) => (\n                <Box sx={{ marginLeft: '10px' }}>\n                  <FormControlLabel\n                    value={p.name}\n                    control={<Radio />}\n                    label={p.name}\n                  />\n                </Box>\n              ))}\n            </Box>\n          </RadioGroup>\n        </FormControl>\n      )}\n\n      <Box width={'100%'}>\n        {successMsg !== '' && (\n          <Alert severity=\"success\">\n            <AlertTitle>Success</AlertTitle>\n            {successMsg}\n          </Alert>\n        )}\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          type=\"submit\"\n          onClick={handleClick}\n        >\n          Register Model\n        </Button>\n      </Box>\n    </Box>\n  )\n}\n\nexport default RegisterModel\n\nconst styles = {\n  baseFormControl: {\n    width: '100%',\n    margin: 'normal',\n    size: 'small',\n  },\n  checkboxWrapper: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    maxWidth: '80%',\n  },\n  labelPaddingLeft: {\n    paddingLeft: 5,\n  },\n  formControlLabelPaddingLeft: {\n    paddingLeft: 10,\n  },\n  buttonBox: {\n    width: '100%',\n    margin: '20px',\n  },\n  error: {\n    fontWeight: 'bold',\n    margin: '5px 0',\n    padding: '1px',\n    borderRadius: '5px',\n  },\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}